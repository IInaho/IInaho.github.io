<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png"><link rel="icon" type="image/png" href="/img/favicon.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content=""><meta name="author" content="John Doe"><meta name="keywords" content=""><title>OS复习资料 ~ inaho</title><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.10.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/mdbootstrap/4.8.7/css/mdb.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/3.0.1/github-markdown.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1067060_qzomjdt8bmp.css"><link rel="stylesheet" href="/lib/prettify/tomorrow-night-eighties.min.css"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/fancybox/jquery.fancybox.min.css"><style type="text/css">.banner-bg{background-image:url(/img/bg1.jpg);background-position:center;background-repeat:repeat-y;background-size:cover;background-attachment:fixed}</style><meta name="generator" content="Hexo 4.2.1"></head><body class="banner-bg"><header style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/">&nbsp;<strong>阴月有晴</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/">主页</a></li><li class="nav-item"><a class="nav-link" href="/archives/">归档</a></li><li class="nav-item"><a class="nav-link" href="/tags/">标签</a></li><li class="nav-item"><a class="nav-link" href="/about/">关于</a></li><li class="nav-item" id="search-btn"><a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i class="iconfont icon-search"></i>&nbsp;&nbsp;</a></li></ul></div></div></nav><div class="view intro-2 rgba-black-slight" id="background"><div class="full-bg-img"><div class="mask flex-center"><div class="container text-center white-text fadeInUp"><span class="h2" id="subtitle"></span><br><p class="mt-3"><i class="fas fa-calendar-alt" aria-hidden="true"></i>&nbsp; 星期一, 一月 4日 2021, 10:40 晚上</p><p>&nbsp;<i class="far fa-chart-bar"></i> <span class="post-count">2.5k 字 </span>&nbsp; &nbsp;<i class="far fa-clock"></i> <span class="post-count">8 分钟 </span>&nbsp; &nbsp;<i class="far fa-eye" aria-hidden="true"></i>&nbsp; <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv"></span> 次 </span>&nbsp;</p></div></div></div></div></header><main id="mainContent" class="rgba-black-slight"><div class="container-fluid"><div class="row"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-md"><div class="py-5 z-depth-3" id="board"><div class="post-content mx-auto" id="post"><div class="markdown-body"><p>操作系统的目标：方便性、有效性、可扩充性、开放性<br>操作系统作用： OS作为用户与计算机硬件系统之间的接口、OS作为计算机系统资源的管理者、OS实现了对计算机资源的抽象<br>推动操作系统发展的主要动力：提高计算机资源利用率、方便用户、硬件的更新、计算机体系结构的发展、新的应用需求<br>操作系统发展过程：</p><ol><li>无操作系统：人工操作、脱机输入输出(纸带)</li><li>单道批处理系统：实现对作业连续处理</li><li>多道批处理系统：多道程序交替运行 用户提交的作业存放在外存，排成后被队列，由作业调度算法调入内存。</li><li>分时系统：允许多用户同时与计算机交互，共享主机资源</li><li>实时系统： 系统能及时响应外部事件的请求，在规定时间内完成对其的处理</li><li>微机操作系统：单用户单任务、单用户多任务、多用户多任务</li></ol><p>并行性：两个或多个事件在同一时刻发生<br>并发性：两个或多个事件在同一时间间隔内发生，宏观同时运行，微观交替运行<br>进程：系统中能独立运行并作为资源分配的基本单位，由一组机器指令、数据、堆栈组成，是独立运行的活动实体<br>资源共享：系统中资源可供内存中多个并发执行的进程共同使用，共享方式分为互斥共享方式、同时访问方式<br>虚拟技术：通过某种技术，将一个物理实体变为若干逻辑的对应物的功能，称为虚拟，主要有虚拟处理机技术(进程、并发)、虚拟设备技术<br>异步：进程通常都是以走走停停的方式运行，因此需要异步执行</p><p>操作系统的主要功能：</p><ol><li>处理机管理功能：进程控制、进程同步、进程通信、调度（作业调度、进程调度）</li><li>存储器管理功能：内存分配、内存保护、地址映射(逻辑地址到物理地址)、内存扩充(虚拟内存)</li><li>设备管理功能：缓冲管理、设备分配、设备处理</li><li>文件管理：文件存储空间管理、目录管理、文件读写管理</li></ol><p>操作系统与用户的接口：用户接口、程序接口<br>OS结构设计：无结构、模块化OS、分层式OS<br>前趋图：描述程序执行先后顺序，有向无循环图DAG</p><p>进程定义：系统利用PCB描述进程的基本情况和活动过程，进程由程序段、相关数据段、PCB组成。进程是进程实体的运行过程，是系统进行资源分配和调度的独立单位<br>进程特征：动态性、并发性、独立性、异步性<br>进程三种基本状态：就绪、执行、阻塞<br>PCB：作用是使一个在多道程序环境下不能独立运行的程序成为一个能独立运行的基本单位，能实现间断性运行，提供进程管理所需信息、进程调度所需信息，实现与其他进程的同步与通信。<br>PCB包含的信息：进程标识符(外部标识符、内部标识符)、处理机状态、进程调度信息、进程控制信息<br>PCB的组织方式：线性方式、链式方式、索引方式<br>进程控制一般由OS内核的原语来实现。<br>原语：若干指令组成，用于完成一定功能的过程。它们是原子操作，不可再分</p><p>进程的创建：</p><ol><li>申请空白PCB</li><li>为新进程分配其运行所需资源</li><li>初始化PCB</li><li>将其插入就绪队列</li></ol><p>进程终止：</p><ol><li>根据终止进程标识符，从PCB中检索出该进程PCB</li><li>终止该进程，置调度标志为真</li><li>若有子孙进程，都应该被终止</li><li>将全部资源归还父进程或OS</li><li>将PCB从队列或链表中移除</li></ol><p>进程通过调用阻塞原语block可将其阻塞<br>进程调用wakeup原语唤醒<br>进程使用suspend挂起<br>OS利用active原语激活进程</p><p>临界资源：一次仅允许一个进程使用的资源称为临界资源。<br>临界区：在每个进程中访问临界资源的代码称为临界区。</p><p>Swap实现进程互斥</p><pre><code>void swap(boolean *a,boolean *b){
    boolean temp;
    temp = *a;
    *a = *b;
    *b = templ
}
</code></pre><p>信号量实现进程互斥，mutex取值为-1，0，1<br>1代表两个进程都未进入临界区，0代表有一个进程进去临界区，-1代表已有进程在临界区，另一进程被阻塞</p><pre><code>semaphore mutex = 1;
Pa(){
    while(1){
        wait(mutex);
        临界区
        signal(mutex)；
        剩余区
    }
}
Pb(){
    While(1){
        wait(mutex);
        临界区；
        signal(mutex)；
        剩余区
    }
}
</code></pre><p>引入线程的OS中，将线程作为调度和分派的基本单位，线程的运行状态也分为执行、就绪、阻塞，线程控制块TCB</p><p>处理机调度算法共同目标：资源利用率、公平性、平衡性、策略强制执行<br>处理机利用率：CPU有效工作时间/(CPU有效工作时间+CPU空闲等待时间)<br>周转时间：从作业被提交给系统开始，到作业完成为止的时间间隔，包括：后备队列等待时间、就绪队列等待时间、CPU上的执行时间、进程等待IO操作完成的时间<br>带权周转时间：作业的周转时间T与系统为它提供服务的时间Ts之比</p><p>作业：不仅包含通常的程序和数据，还应配有一份作业说明书，系统根据该说明书对程序的运行进行控制<br>作业步：每个作业都必须经过若干个相对独立又相互关联的顺序加工步骤得到结果，每个加工步骤称为作业步<br>作业控制块：JCB，保存系统对作业进行管理和调度所需的全部信息，JCB包括作业标识、用户名称、用户账号、作业类型、作业状态、调度信息、资源需求、资源使用情况。<br>作业分为后备状态、运行状态、完成状态</p><p>FCFS调度算法：系统按照作业到达先后次序来调度<br>短作业优先SJF：作业越短，优先级越高，从外存选择若干估计运行时间最短的作业调入内存，但运行时间不好估计</p><p>进程调度的任务：保存处理机现场信息、按某种算法选取进程、将处理机分配给进程<br>进程调度方式：抢占式(优先权原则、短进程优先、时间片)、非抢占式</p><p>轮转调度算法</p><p>死锁的起因：多个进程对资源的争夺，对不可抢占资源争夺引起死锁，对可消耗资源进行争夺也会引起死锁。<br>死锁的定义：如果一组进程中每一个进程都在等待仅有该组进程中的其他进程才能引发的事件，那么该组进程是死锁的。<br>死锁的必要条件：互斥条件、请求和保持条件、不可抢占条件、循环等待条件<br>处理死锁的方法：预防死锁、避免死锁、检测死锁、解除死锁</p><p>连续分配存储管理方式<br>为将程序装入内存，需要为其分配一定大小的内存空间。<br>单一连续分配：整个内存的用户空间由该程序独占。<br>固定分区分配：划分分区的方法(分区大小相等、分区大小不等)、内存分配<br>动态分区分配：基于顺序搜索的动态分区分配算法，通常将系统中的空闲分区链接成一个链。</p><ol><li>首次适应算法FF：FF要求空闲分区链以地址递增的次序链接，分配内存时，从链首开始顺序查找，直至找到一个大小能满足要求的空闲分区，再按作业大小，从该分区划出一块内存空间，分配给请求者，余下空闲分区仍留在空闲链中。、</li><li>循环首次适应NF：不是每次都从链首开始查找，而是从上次找到的空闲分区的下一个空闲分区开始查找。</li><li>最佳适应算法BF：该算法要求所有空闲分区按容量大小排序，每次把能满足要求、又是最小的空闲分区分配给作业。</li><li>最坏适应算法WF：扫描整个空闲分区表或链表时，总是挑选最大的空闲区，从中分割一部分存储空间给作业使用。</li></ol><p>基于索引搜索的动态分区分配算法：</p><ol><li>快速适应算法，第一步是根据进程长度，从索引表寻找能容纳它的最小空闲区链表。从链表中取下第一块进行分配</li><li>伙伴系统</li><li>哈希算法</li></ol><p>抖动：刚被换出的页很快又要被访问，如此频繁的更换页面，以致一个进程在运行中把大部分时间花费在页面置换操作上，称该进程发生了抖动。<br>页面置换算法：</p><ol><li>最佳置换Optimal算法</li><li>先进先出FIFO</li><li>LRU置换算法，最近最久未使用</li><li>LFU置换算法，最近使用最少的页面</li></ol><p>工作集：指在某段时间间隔里，进程实际所要访问页面的集合。</p><p>假脱机：可以将一台物理IO设备虚拟为多台逻辑IO设备，这样就允许多个用户共享一台物理IO设备。<br>SPOOLing组成：输入和输出井，输入缓冲区和输出缓冲区，输入进程和输出进程，井管理程序</p><p>磁盘调度算法：先来先服务FCFS、最短寻道时间优先SSTF<br>基于扫描的磁盘调度算法：SCAN算法、循环扫描CSCAN算法</p><hr></div><br><div><p></p><p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://zh.wikipedia.org/wiki/Wikipedia:CC_BY-SA_3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank" rel="nofollow noopener noopener">CC BY-SA 3.0协议</a> 。转载请注明出处！</p><div class="col-lg-7 mx-auto nopadding-md"><div class="container comments mx-auto" id="comments"><br><br><div class="disqus" style="width:100%"><div id="disqus_thread"></div><script>var disqus_config=function(){this.page.url="http://yoursite.com/2021/01/04/OS复习资料/",this.page.identifier="/2021/01/04/OS复习资料/"},oldLoad=window.onload;window.onload=function(){var t=document,e=t.createElement("script");e.type="text/javascript",e.src="//inaho-top.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" target="_blank" rel="nofollow noopener noopener">comments powered by Disqus.</a></noscript></div></div></div></div></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container"><div id="toc"><p class="h4"><i class="far fa-list-alt"></i>&nbsp;目录</p><div id="tocbot"></div></div></div></div></div></main><a class="z-depth-1" id="scroll-top-button" href="#" role="button"><i class="fa fa-chevron-up scroll-top-arrow" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div><div id="footerContent" class="rgba-black-slight"><footer class="pt-5"><div style="color:#fff" class="text-center py-3"><a style="color:#fff" href="https://hexo.io" target="_blank" rel="nofollow noopener"><b>Hexo支持</b></a> <i class="iconfont icon-love"></i> <a style="color:#fff" href="https://disqus.com/" target="_blank" rel="nofollow noopener"><b>Disqus 评论系统 </b></a><i class="iconfont icon-love"></i> <a style="color:#fff" href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><b>主题Fluid </b></a><i class="iconfont icon-love"></i> <a style="color:#fff" href="https://www.pixiv.net/" target="_blank" rel="nofollow noopener"><b>图片 Pixiv</b></a><br>&nbsp;<span id="busuanzi_container_site_pv">总访问量 <span id="busuanzi_value_site_pv"></span> 次</span>&nbsp; &nbsp;<span id="busuanzi_container_site_uv">总访客数 <span id="busuanzi_value_site_uv"></span> 人</span>&nbsp;<br></div></footer></div><script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script><script src="/lib/popper/popper.min.js"></script><script src="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script><script src="https://cdn.staticfile.org/mdbootstrap/4.8.7/js/mdb.min.js"></script><script src="/js/main.js"></script><script src="/js/lazyload.js"></script><script src="/lib/tocbot/tocbot.min.js"></script><script src="/js/post.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/lib/prettify/prettify.min.js"></script><script>$(document).ready((function(){$("pre").addClass("prettyprint  linenums"),prettyPrint()}))</script><script src="/lib/typed/typed.min.js"></script><script>var typed=new Typed("#subtitle",{strings:["  ","OS复习资料&nbsp;"],cursorChar:"_",typeSpeed:70,loop:!1});typed.stop(),$(document).ready((function(){$(".typed-cursor").addClass("h2"),typed.start()}))</script><script src="https://cdn.staticfile.org/anchor-js/4.2.0/anchor.min.js"></script><script>anchors.options={placement:"right",visible:"false"};var el="h1,h2,h3,h4,h5,h6".split(","),res=[];for(item of el)res.push(".markdown-body > "+item);anchors.add(res.join(", "))</script><script src="/js/local-search.js"></script><script>var path="/local-search.xml",inputArea=document.querySelector("#local-search-input");inputArea.onclick=function(){getSearchFile(path),this.onclick=null}</script><script src="/lib/fancybox/jquery.fancybox.min.js"></script><script>$("#post img:not(.no-zoom img, img[no-zoom])").each((function(){var t=document.createElement("a");$(t).attr("data-fancybox","images"),$(t).attr("href",$(this).attr("src")),$(this).wrap(t)}))</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
          tex2jax: {
              inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
              processEscapes: true,
              skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
          }
      });

      MathJax.Hub.Queue(function() {
          var all = MathJax.Hub.getAllJax(), i;
          for(i=0; i < all.length; i += 1) {
              all[i].SourceElement().parentNode.className += ' has-jax';
          }
      });</script><script src="https://cdn.staticfile.org/mathjax/2.7.6/MathJax.js?config=TeX-MML-AM_CHTML"></script><script type="text/javascript">$("#background").removeClass("banner-bg"),$("body").addClass("banner-bg");var postToTopHight=$("#board").offset().top;$(window).scroll((function(){document.body.scrollTop+document.documentElement.scrollTop>=postToTopHight?($("#background").removeClass("rgba-black-slight"),$("#mainContent").removeClass("rgba-black-slight"),$("#footerContent").removeClass("rgba-black-slight")):($("#background").addClass("rgba-black-slight"),$("#mainContent").addClass("rgba-black-slight"),$("#footerContent").addClass("rgba-black-slight"))}))</script></body></html>