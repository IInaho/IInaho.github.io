@mixin ai_dark {
  // 定义暗色模式下的CSS变量，基于_variables.scss中的暗色主题
  --primary-color: #{$fg-color-dark}; // #dadada
  --secondary-color: #cccccc;
  --tertiary-color: #aaaaaa;
  --bg-secondary: #{$bg-color-dark}; // #212121
  --border-color: #{$alt-bg-color-dark}; // #424242
  --link-color: #{$link-color-dark}; // #42a5f5
  --accent-color: #4299e1;
  --bg-tertiary: #{$lighter-alt-bg-color-dark}; // #4f4f4f
  
  // 页面背景
  .ai-container {
    background: #{$bg-color-dark};
  }
  
  .ai-header {
    h1 {
      color: var(--primary-color);
    }
    
    p {
      color: var(--secondary-color);
    }
    
    .last-updated {
      color: var(--tertiary-color);
    }
  }
  
  .category-section {
    h2 {
      color: var(--primary-color);
      border-bottom-color: var(--accent-color);
    }
  }
  
  .tool-card {
    background: #{$alt-bg-color-dark};
    border: 1px solid #{$alt-bg-color-dark};
    
    &:hover {
      box-shadow: 0 4px 12px rgba(255, 255, 255, 0.1);
      border-color: var(--accent-color);
      background: #{$lighter-alt-bg-color-dark};
    }
    
    .tool-name {
      color: var(--primary-color);
    }
    
    .tool-desc {
      color: var(--secondary-color);
    }
  }
  
  .tool-icon {
      background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.1);
      
      &:before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        border-radius: 50%;
        box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.2);
        pointer-events: none;
      }
      
      img {
        filter: brightness(0.9) contrast(1.1) saturate(1.2);
        opacity: 0.9;
        
        &:hover {
          opacity: 1;
          filter: brightness(1) contrast(1.2) saturate(1.3);
        }
      }
    }
  
  .usage-tips {
    h2 {
      color: var(--primary-color);
    }
    
    .tip-card {
      background: #{$alt-bg-color-dark};
      border-left-color: var(--accent-color);
      
      h3 {
        color: var(--primary-color);
      }
      
      p {
        color: var(--secondary-color);
      }
    }
  }
  
  .ai-title {
    color: var(--primary-color);
  }
  
  .ai-subtitle {
    color: var(--secondary-color);
  }
  
  // 移动端暗色模式优化
  @media (max-width: 768px) {
    .tool-card {
      background: #{$alt-bg-color-dark};
      border-color: #{$alt-bg-color-dark};
    }
  }
}

body.colorscheme-dark {
  @include ai_dark();
}

body.colorscheme-auto {
  @media (prefers-color-scheme: dark) {
    @include ai_dark();
  }
}