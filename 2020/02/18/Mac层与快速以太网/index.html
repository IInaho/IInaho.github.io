<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png"><link rel="icon" type="image/png" href="/img/favicon.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content=""><meta name="author" content="John Doe"><meta name="keywords" content=""><title>Mac层与快速以太网 ~ inaho</title><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.10.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/mdbootstrap/4.8.7/css/mdb.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/3.0.1/github-markdown.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1067060_qzomjdt8bmp.css"><link rel="stylesheet" href="/lib/prettify/tomorrow-night-eighties.min.css"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/fancybox/jquery.fancybox.min.css"><style type="text/css">.banner-bg{background-image:url(/img/bg7.png);background-position:center;background-repeat:repeat-y;background-size:cover;background-attachment:fixed}</style><meta name="generator" content="Hexo 4.2.0"></head><body class="banner-bg"><header style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/">&nbsp;<strong>阴月有晴</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/">主页</a></li><li class="nav-item"><a class="nav-link" href="/archives/">归档</a></li><li class="nav-item"><a class="nav-link" href="/tags/">标签</a></li><li class="nav-item"><a class="nav-link" href="/about/">关于</a></li><li class="nav-item" id="search-btn"><a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i class="iconfont icon-search"></i>&nbsp;&nbsp;</a></li></ul></div></div></nav><div class="view intro-2 rgba-black-slight" id="background"><div class="full-bg-img"><div class="mask flex-center"><div class="container text-center white-text fadeInUp"><span class="h2" id="subtitle"></span><br><p class="mt-3"><i class="fas fa-calendar-alt" aria-hidden="true"></i>&nbsp; 星期二, 二月 18日 2020, 4:26 下午</p><p>&nbsp;<i class="far fa-chart-bar"></i> <span class="post-count">1.6k 字 </span>&nbsp; &nbsp;<i class="far fa-clock"></i> <span class="post-count">5 分钟 </span>&nbsp; &nbsp;<i class="far fa-eye" aria-hidden="true"></i>&nbsp; <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv"></span> 次 </span>&nbsp;</p></div></div></div></div></header><main id="mainContent" class="rgba-black-slight"><div class="container-fluid"><div class="row"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-md"><div class="py-5 z-depth-3" id="board"><div class="post-content mx-auto" id="post"><div class="markdown-body"><h1 id="Mac层与快速以太网"><a href="#Mac层与快速以太网" class="headerlink" title="Mac层与快速以太网"></a>Mac层与快速以太网</h1><h2 id="Mac层的硬件地址"><a href="#Mac层的硬件地址" class="headerlink" title="Mac层的硬件地址"></a>Mac层的硬件地址</h2><ul><li>在局域网中，硬件地址又称为物理地址，或Mac地址.</li><li>802标准所说的地址严格的讲应当是每一个站的名字或标识符.<br>但鉴于大家都已经习惯了将这种48位的名字称为地址，所以就采用了这种习惯用法。</li><li>IEEE的注册管理机构RA负责向厂家分配地址字段的前三个字节(即高位24位),地址字段中的后三个字节(即低位24位)由厂家自行指派，称为扩展标识符，必须保证生产出的适配器没有重复地址.</li><li>一个地址块可以生成2的24次方个不同的地址，这种48位地址称为Mac-48，它的通用名称是EUI-48.</li><li>Mac地址实际上就是适配器地址或适配器标识符EUI-48.</li></ul><h2 id="适配器检查Mac地址"><a href="#适配器检查Mac地址" class="headerlink" title="适配器检查Mac地址"></a>适配器检查Mac地址</h2><ol><li>适配器从网络上每收到一个Mac帧就首先用硬件检查Mac帧中的Mac地址</li><li>如果是发送本站的帧则收下，然后在进行其他的处理</li><li>否则就将此帧丢弃，不再进行其他的处理</li></ol><p>发送本站的帧，包括以下三种:</p><ul><li>单播帧 （一对一）</li><li>广播帧 （一对全体）</li><li>多播帧 （一对多）</li></ul><h2 id="Mac帧格式"><a href="#Mac帧格式" class="headerlink" title="Mac帧格式"></a>Mac帧格式</h2><h3 id="一般格式"><a href="#一般格式" class="headerlink" title="一般格式"></a>一般格式</h3><p><img src="/2020/02/18/Mac%E5%B1%82%E4%B8%8E%E5%BF%AB%E9%80%9F%E4%BB%A5%E5%A4%AA%E7%BD%91/2.png" srcset="/img/loading.gif" width="380px" height="220px"><br>前8个字节作用是实现比特同步，第一个字段共七个字节，称为前同步码，作用是实现快速Mac帧的比特同步。</p><h3 id="以太网V2的Mac帧格式"><a href="#以太网V2的Mac帧格式" class="headerlink" title="以太网V2的Mac帧格式"></a>以太网V2的Mac帧格式</h3><p><img src="/2020/02/18/Mac%E5%B1%82%E4%B8%8E%E5%BF%AB%E9%80%9F%E4%BB%A5%E5%A4%AA%E7%BD%91/3.png" srcset="/img/loading.gif" width="380px" height="220px"></p><h3 id="无效的Mac帧"><a href="#无效的Mac帧" class="headerlink" title="无效的Mac帧"></a>无效的Mac帧</h3><ul><li>帧的长度不是整数个字节</li><li>用收到的帧检验序列FCS查出有差错</li><li>数据字段的长度不在46-1500字节之间</li><li>有效的Mac帧长度为64-1518字节之间</li><li>对于检查出的无效Mac帧就简单地丢弃。以太网不负责重传丢弃地帧。</li></ul><h3 id="帧间最小间隔"><a href="#帧间最小间隔" class="headerlink" title="帧间最小间隔"></a>帧间最小间隔</h3><p>帧间最小间隔为9.6us，相当于96bit地的发送时间,一个站在检测到总线开始空闲后，还要等待9.6us才能再次发送数据。<br>这样做是为了使刚刚收到数据帧的站的接收缓存来得及清理，做好接收下一帧的准备。</p><h2 id="扩展以太网"><a href="#扩展以太网" class="headerlink" title="扩展以太网"></a>扩展以太网</h2><h3 id="在物理层考虑扩展"><a href="#在物理层考虑扩展" class="headerlink" title="在物理层考虑扩展"></a>在物理层考虑扩展</h3><p><strong>距离扩展</strong>：<br>主机使用光纤和一对光纤调制解调器连接到集线器<br><strong>数量扩展</strong>：<br>集线器级联：使网络中计算机增加，变成一个大的冲突域，会造成效率降低</p><h4 id="用集线器扩展局域网优点"><a href="#用集线器扩展局域网优点" class="headerlink" title="用集线器扩展局域网优点"></a>用集线器扩展局域网优点</h4><ul><li>使原来属于不同碰撞域的局域网上的计算机能够进行跨碰撞域的通信</li><li>扩大了局域网覆盖的地理范围</li><li>用集线器扩展局域网缺点</li><li>碰撞域增大了，但总的吞吐量并未提高</li><li>如果不同的碰撞域使用不同的数据率，那么就不能用集线器将他们互连起来</li></ul><h3 id="在数据链路层考虑扩展"><a href="#在数据链路层考虑扩展" class="headerlink" title="在数据链路层考虑扩展"></a>在数据链路层考虑扩展</h3><p>在数据链路层扩展局域网使用网桥</p><ul><li>网桥工作在数据链路层，它根据Mac帧的目的地址对收到的帧进行转发。</li><li>网桥具有过滤帧的功能。当网桥收到一个帧时，并不是向所有的接口转发此帧，而是先检查此帧的目的Mac地址，然后再确定将该帧转发到哪一个接口</li></ul><blockquote><p>ps：网桥是交换机的前身，透明网桥：指局域网上的站点不知道所发送的帧将经过几个网桥，因为网桥对于各站点是看不见的</p></blockquote><h3 id="交换机"><a href="#交换机" class="headerlink" title="交换机"></a>交换机</h3><p>随着网桥接口的增加，后来网桥和集线器合并了，计算机可以直接和交换机连接，这就是交换机。交换机就是网桥和集线器的合并版，能全双工，安全通信。</p><ul><li>端口带宽独享</li><li>安全</li><li>基于Mac地址转发</li><li>通过学习构建Mac地址表</li></ul><h2 id="快速以太网"><a href="#快速以太网" class="headerlink" title="快速以太网"></a>快速以太网</h2><h3 id="100BASE-T以太网"><a href="#100BASE-T以太网" class="headerlink" title="100BASE-T以太网"></a>100BASE-T以太网</h3><p>速率达到或超过100Mb/s的以太网称为高速以太网。<br>在双绞线上传送100Mb/s基带信号的星型拓扑以太网，仍使用IEEE802.3的CSMA/CD协议。<br>100BASE-T以太网又称为快速以太网(Fast Ethernet)。</p><h4 id="100Base-T以太网的物理层："><a href="#100Base-T以太网的物理层：" class="headerlink" title="100Base-T以太网的物理层："></a>100Base-T以太网的物理层：</h4><ul><li>100BASE-TX ： 使用2对UTP5类线或屏蔽双绞线STP</li><li>100BASE-FX : 使用2对光纤</li><li>100BASE-T4 : 使用4对UTP3类线或5类线</li></ul><h4 id="100Base-T特点"><a href="#100Base-T特点" class="headerlink" title="100Base-T特点"></a>100Base-T特点</h4><ul><li>可在全双工方式下工作而无冲突发生，因此，不使用CSMA/CD协议。Mac帧格式仍然是802.3标准规定的。</li><li>保持最短帧长不变，但将一个网段的最大电缆长度减小到100m，帧间时间间隔从原来的9.6us改为现在的0.96us。</li></ul><h3 id="G比特以太网"><a href="#G比特以太网" class="headerlink" title="G比特以太网"></a>G比特以太网</h3><ul><li>允许在1GB/s下全双工和半双工两种方式工作</li><li>使用802.3协议规定的帧格式</li><li>在半双工方式下使用CSMA/CD协议(全双工方式不需要使用CSMA/CD协议)</li><li>与10BASE-T和100BASE-T技术 向后兼容</li><li>当G比特以太网工作 在全双工方式时,不使用载波延伸和分组突发</li></ul><h3 id="G比特以太网的物理层"><a href="#G比特以太网的物理层" class="headerlink" title="G比特以太网的物理层"></a>G比特以太网的物理层</h3><h4 id="1000BASE-x-基于光纤通道的物理层："><a href="#1000BASE-x-基于光纤通道的物理层：" class="headerlink" title="1000BASE-x 基于光纤通道的物理层："></a>1000BASE-x 基于光纤通道的物理层：</h4><ul><li>1000BASE-SX SX表示短波长 传输距离275或550米</li><li>1000BASE-LX LX表示长波长 550米或5000米</li><li>1000BASE-CX CX表示铜线 传输距离25米</li></ul><h4 id="1000BASE-T："><a href="#1000BASE-T：" class="headerlink" title="1000BASE-T："></a>1000BASE-T：</h4><ul><li>使用四对5类线UTP</li></ul><h4 id="G比特以太网配置举例"><a href="#G比特以太网配置举例" class="headerlink" title="G比特以太网配置举例"></a>G比特以太网配置举例</h4><p><img src="/2020/02/18/Mac%E5%B1%82%E4%B8%8E%E5%BF%AB%E9%80%9F%E4%BB%A5%E5%A4%AA%E7%BD%91/4.png" srcset="/img/loading.gif" width="380px" height="220px"></p><h3 id="10G比特以太网"><a href="#10G比特以太网" class="headerlink" title="10G比特以太网"></a>10G比特以太网</h3><ul><li>同10Mb/s，100Mb/s，1Gb/s以太网的帧格式完全相同</li><li>保留了802.3标准规定的以太网最小和最大帧长，便于升级</li><li>不再使用铜线而只使用光纤作为传输媒体</li><li>只工作在全双工方式，因此没有争用问题，也不使用CSMA/CD协议。</li></ul><h2 id="端到端的以太网传输"><a href="#端到端的以太网传输" class="headerlink" title="端到端的以太网传输"></a>端到端的以太网传输</h2><p>10G比特以太网的出现，以太网的工作范围已经从局域网扩大到城域网和广域网，从而实现了端到端的以太网传输 。<br>这种工作方式的好处是：</p><ul><li>成熟的技术</li><li>互操作性很好</li><li>在广域网中使用以太网时价格便宜</li><li>统一的帧格式简化了操作和管理</li></ul><h2 id="Cisco建网3层模型"><a href="#Cisco建网3层模型" class="headerlink" title="Cisco建网3层模型"></a>Cisco建网3层模型</h2><p><img src="/2020/02/18/Mac%E5%B1%82%E4%B8%8E%E5%BF%AB%E9%80%9F%E4%BB%A5%E5%A4%AA%E7%BD%91/5.png" srcset="/img/loading.gif" width="380px" height="220px"></p><hr></div><br><div><p><span><i class="iconfont icon-tag"></i> <a class="hover-with-bg" href="/tags/%E7%BD%91%E7%BB%9C">网络</a></span></p><p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://zh.wikipedia.org/wiki/Wikipedia:CC_BY-SA_3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank" rel="nofollow noopener noopener">CC BY-SA 3.0协议</a> 。转载请注明出处！</p></div></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container"><div id="toc"><p class="h4"><i class="far fa-list-alt"></i>&nbsp;目录</p><div id="tocbot"></div></div></div></div></div><div class="col-lg-7 mx-auto nopadding-md"><div class="container comments mx-auto" id="comments"><br><br><div class="disqus" style="width:100%"><div id="disqus_thread"></div><script>var disqus_config=function(){this.page.url="http://yoursite.com/2020/02/18/Mac层与快速以太网/",this.page.identifier="/2020/02/18/Mac层与快速以太网/"},oldLoad=window.onload;window.onload=function(){var t=document,e=t.createElement("script");e.type="text/javascript",e.src="//inaho-top.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" target="_blank" rel="nofollow noopener noopener">comments powered by Disqus.</a></noscript></div></div></div></main><a class="z-depth-1" id="scroll-top-button" href="#" role="button"><i class="fa fa-chevron-up scroll-top-arrow" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div><div id="footerContent" class="rgba-black-slight"><footer class="pt-5"><div style="color:#fff" class="text-center py-3"><a style="color:#fff" href="https://hexo.io" target="_blank" rel="nofollow noopener"><b>Hexo支持</b></a> <i class="iconfont icon-love"></i> <a style="color:#fff" href="https://disqus.com/" target="_blank" rel="nofollow noopener"><b>Disqus 评论系统 </b></a><i class="iconfont icon-love"></i> <a style="color:#fff" href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><b>主题Fluid </b></a><i class="iconfont icon-love"></i> <a style="color:#fff" href="https://www.pixiv.net/" target="_blank" rel="nofollow noopener"><b>图片 Pixiv</b></a><br>&nbsp;<span id="busuanzi_container_site_pv">总访问量 <span id="busuanzi_value_site_pv"></span> 次</span>&nbsp; &nbsp;<span id="busuanzi_container_site_uv">总访客数 <span id="busuanzi_value_site_uv"></span> 人</span>&nbsp;<br></div></footer></div><script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script><script src="/lib/popper/popper.min.js"></script><script src="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script><script src="https://cdn.staticfile.org/mdbootstrap/4.8.7/js/mdb.min.js"></script><script src="/js/main.js"></script><script src="/js/lazyload.js"></script><script src="/lib/tocbot/tocbot.min.js"></script><script src="/js/post.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/lib/prettify/prettify.min.js"></script><script>$(document).ready(function(){$("pre").addClass("prettyprint  linenums"),prettyPrint()})</script><script src="/lib/typed/typed.min.js"></script><script>var typed=new Typed("#subtitle",{strings:["  ","Mac层与快速以太网&nbsp;"],cursorChar:"_",typeSpeed:70,loop:!1});typed.stop(),$(document).ready(function(){$(".typed-cursor").addClass("h2"),typed.start()})</script><script src="https://cdn.staticfile.org/anchor-js/4.2.0/anchor.min.js"></script><script>anchors.options = {
      placement: "right",
      visible: "false",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))</script><script src="/js/local-search.js"></script><script>var path="/local-search.xml",inputArea=document.querySelector("#local-search-input");inputArea.onclick=function(){getSearchFile(path),this.onclick=null}</script><script src="/lib/fancybox/jquery.fancybox.min.js"></script><script>$("#post img:not(.no-zoom img, img[no-zoom])").each(function(){var t=document.createElement("a");$(t).attr("data-fancybox","images"),$(t).attr("href",$(this).attr("src")),$(this).wrap(t)})</script><script type="text/javascript">$("#background").removeClass("banner-bg"),$("body").addClass("banner-bg");var postToTopHight=$("#board").offset().top;$(window).scroll(function(){var o=document.body.scrollTop+document.documentElement.scrollTop;postToTopHight<=o?($("#background").removeClass("rgba-black-slight"),$("#mainContent").removeClass("rgba-black-slight"),$("#footerContent").removeClass("rgba-black-slight")):($("#background").addClass("rgba-black-slight"),$("#mainContent").addClass("rgba-black-slight"),$("#footerContent").addClass("rgba-black-slight"))})</script></body></html>