<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png"><link rel="icon" type="image/png" href="/img/favicon.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content=""><meta name="author" content="John Doe"><meta name="keywords" content=""><title>Assume总结 ~ inaho</title><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.10.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/mdbootstrap/4.8.7/css/mdb.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/3.0.1/github-markdown.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1067060_qzomjdt8bmp.css"><link rel="stylesheet" href="/lib/prettify/tomorrow-night-eighties.min.css"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/fancybox/jquery.fancybox.min.css"><style type="text/css">.banner-bg{background-image:url(/img/bg13.jpg);background-position:center;background-repeat:repeat-y;background-size:cover;background-attachment:fixed}</style><meta name="generator" content="Hexo 4.2.1"></head><body class="banner-bg"><header style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/">&nbsp;<strong>阴月有晴</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/">主页</a></li><li class="nav-item"><a class="nav-link" href="/archives/">归档</a></li><li class="nav-item"><a class="nav-link" href="/tags/">标签</a></li><li class="nav-item"><a class="nav-link" href="/about/">关于</a></li><li class="nav-item" id="search-btn"><a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i class="iconfont icon-search"></i>&nbsp;&nbsp;</a></li></ul></div></div></nav><div class="view intro-2 rgba-black-slight" id="background"><div class="full-bg-img"><div class="mask flex-center"><div class="container text-center white-text fadeInUp"><span class="h2" id="subtitle"></span><br><p class="mt-3"><i class="fas fa-calendar-alt" aria-hidden="true"></i>&nbsp; 星期三, 十一月 4日 2020, 7:36 晚上</p><p>&nbsp;<i class="far fa-chart-bar"></i> <span class="post-count">2.4k 字 </span>&nbsp; &nbsp;<i class="far fa-clock"></i> <span class="post-count">9 分钟 </span>&nbsp; &nbsp;<i class="far fa-eye" aria-hidden="true"></i>&nbsp; <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv"></span> 次 </span>&nbsp;</p></div></div></div></div></header><main id="mainContent" class="rgba-black-slight"><div class="container-fluid"><div class="row"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-md"><div class="py-5 z-depth-3" id="board"><div class="post-content mx-auto" id="post"><div class="markdown-body"><h1 id="Assume总结"><a href="#Assume总结" class="headerlink" title="Assume总结"></a>Assume总结</h1><h2 id="概念介绍"><a href="#概念介绍" class="headerlink" title="概念介绍"></a>概念介绍</h2><ul><li>机器语言，计算机将高低电平转换为0-1数字，在x86处理器中，指令与数据以同等地位保存在存储器中，每一种微处理器都有机器指令集，也就是机器语言。</li><li>存储单元，8086CPU中，一个字为2个字节，一个字节为8比特，存储单元包括寄存器、主存、现存等等。</li><li>内存地址空间，CPU通过主板上的总线与各个设备的寄存器以及各存储器相连，在物理上，这些存储器并没有连接在一起，但在逻辑上它们组成一个连续的内存空间，称为内存地址空间。</li><li>寄存器，用于信息存储，汇编语言是通过寄存器来实现对CPU的控制，8086CPU的所有寄存器为16位。</li><li>寻址方法，8086CPU采用两个16位地址合成的方法来形成20位的物理地址，一个称为段地址，一个称为偏移地址，实际物理地址=段地址*16+偏移地址</li><li>中断向量表，当发生中断时，CPU要执行中断处理程序，而中断处理程序的入口地址是通过中断向量表找到的，也就是说中断向量表也就是各个中断处理程序的入口地址的列表，8086CPU中，中断向量表放在内存0处，从0：0到0：03FF的1024个单元存放中断向量表。</li><li>端口及端口地址空间，PC机系统中，CPU通过总线和各种芯片相连，包括各种存储器，接口卡上的芯片以及主板上的接口芯片，这些芯片中都有一组可以有CPU读写的寄存器，这些寄存器与CPU的总线相连，CPU通过向其芯片发送端口读写命令实现读或写，从CPU的角度将这些寄存器都当作端口，进行统一编址，从而建立统一的端口地址空间，每个端口在此空间中都有一个地址。</li></ul><h2 id="寄存器"><a href="#寄存器" class="headerlink" title="寄存器"></a>寄存器</h2><p>8086CPU中，寄存器有16种，分别为AX、BX、CX、DX、SI、DI、SP、BP、IP、CS、SS、DS、ES、PSW，其中AX、BX、CX、DX被称为通用寄存器，用于存放一般性的数据，这四种寄存器可以分成两个独立的8位寄存器来使用，例如AX可分为AH和AL，BX可分为BH和BL等。</p><ul><li>CS寄存器，代码段寄存器，存放指令在内存中的段地址</li><li>IP寄存器，指令指针寄存器，存放指令在内存某段的具体位置，与CS寄存器组合来确定指令在内存的具体位置。</li><li>DS寄存器，用于存放数据的短地址，例如DS:[8]，代表段地址保存在ds寄存器中，偏移地址为8，也可以隐式使用,例如写成[8]，则默认段地址保存在DS寄存器中。</li><li>ES寄存器,段地址寄存器,与DS功能类似,但必须显式使用.</li><li>SS寄存器，栈顶的段地址寄存器</li><li>SP寄存器，栈的偏移地址寄存器，与SS寄存器组合，始终指向栈顶.</li><li>CX寄存器，通常存放循环次数,与loop指令联用.</li><li>SI寄存器,与BX功能相近的寄存器,通常使用DS:[si]代表数据源</li><li>DI寄存器,与BX功能相近的寄存器,通常使用ES:[di]代表目的地址</li><li>BP寄存器,与SI、DI功能类似，可以在[]中进行内存单元寻址。</li><li>PSW，标志位寄存器。<ul><li>标志 1 0</li><li>OF，OV、NV，是否溢出</li><li>SF，NG、PL，判断正负</li><li>ZF，ZR、NZ，是否为0</li><li>PF，PE、PO，判断奇偶</li><li>CF，CY、NC，是否进位</li><li>DF，DN、UP，方向标志位</li></ul></li></ul><h2 id="指令大全"><a href="#指令大全" class="headerlink" title="指令大全"></a>指令大全</h2><p>debug指令，用于实模式8086方式的程序调试</p><ul><li>R命令查看、修改CPU寄存器的内容</li><li>D命令查看内存中的内容</li><li>E命令改写内存中的内容</li><li>U命令将内存中的机器指令翻译成汇编指令</li><li>T命令执行一条机器指令</li><li>A命令以汇编形式在内存中写入一条机器指令</li></ul><p>masm指令，用于汇编器编译源代码</p><p>link指令，用于连接相关文件形成可执行文件</p><p>assume操作符，用于将标号所在段和一个段寄存器联系起来。</p><p>mov指令，用于数据的移动</p><pre><code>mov ax,18    ;将数值18移入ax寄存器
mov al,18    ;将数值18移入al寄存器，也就是ax的低8位
</code></pre><p>add指令，用于将数值与寄存器的内容相加，并存入寄存器</p><pre><code>add ax,18    ;将ax寄存器的内容加18，结果存入ax寄存器
add ax,bx    ;将ax的内容与bx的内容相加，结果存入bx寄存器
</code></pre><p>adc指令，带进位的加法指令，比add指令多加了CF位的值。<br>sub指令，寄存器的内容与某数值相减，结果存入寄存器</p><pre><code>sub ax,ax    ;ax的内容减去ax的内容，结果存入ax
</code></pre><p>jmp指令，跳转指令，用于修改CS与IP实现程序的条转</p><pre><code>jmp 0000：0010        ;跳转到0000：0010地址处
jmp short s            ;实现段内段转移，转移到标号s处，ip修改范围-128-127
jmp near ptr s        ;段内近转移，(IP)=(IP)+16位位移
jmp far ptr s        ;段间转移,CS为标号所在段的段地址，IP是标号在段中的偏移地址
jmp ax                ;修改IP寄存器的值为ax
</code></pre><p>push指令与pop指令，用于栈操作</p><pre><code>push ax        ;将ax的值存入栈中
pop  ax        ;将栈顶的数据存入ax中
</code></pre><p>loop指令,循环指令,每次循环使cx寄存器的值减1,然后跳到标号处,如果cx的值为0,则循环结束.</p><pre><code>loop 标号    ;判断cx的值是否为0,如果不为零则跳转标号处,然后使cx的值自减
</code></pre><p>inc指令与dec指令,使寄存器的值加一或减一</p><pre><code>inc ax        ;使ax的值增1
dec ax        ;使ax的值减1
</code></pre><p>dw操作符,用于定义字型数据,db用于定义字节型数据，dd用于定义双字型数据</p><pre><code>dw 0123h,0456h,0789h
db 11h,12h,13h
dd 01230456h
</code></pre><p>dup操作符，用于进行数据的重复</p><pre><code>db 128 dup(0)    ;定义了128个db型数据，其值都为0
</code></pre><p>and指令,逻辑与指令,按位进行与运算</p><pre><code>mov al,01100011B
and al,00111011B
al = 00100011B
</code></pre><p>or指令,逻辑或指令,按位进行或运算</p><pre><code>mov al,01100011B
or al,00111011B
al = 01111011B
</code></pre><p>div除法指令，除数有8位和16位两种，在一个寄存器或内存单元中，被除数默认放在AX或DX和AX中，如果除数为8位，被除数为16位，放在AX中。如果除数为16位，被除数为32位，DX存放高16位，AX存放低16位。</p><pre><code>div reg                    ;AX除reg中的内容
div word ptr es:[0]        ;16位除法
div byte ptr [bx]        ;8位除法
</code></pre><p>offset操作符，用于取得标号的偏移地址</p><pre><code>mov bx,offset s            ;将标号s的地址给bx寄存器
</code></pre><p>seg操作符，用于取得标号所在段地址</p><p>jcxz指令，如果cx为零，则跳转</p><pre><code>jcxz s            ;如果cx为0，则跳转到s标号处
</code></pre><p>ret指令，用栈中数据，修改IP的内容，相当于pop IP<br>retf指令，用栈中数据，修改CS和IP的内容，相当于pop IP与pop CS指令<br>call指令，将CS与IP压入栈中，然后在转移，通常和ret指令配合使用，实现函数功能。</p><pre><code>call s        ;将CS与IP的值压入栈中，然后跳转到s标号处
s: ret        ;将栈中数据，修改CS与IP的内容，跳到call指令后
</code></pre><p>mul指令，乘法指令，两个相乘的数要么都是8位，要么都是16位，如果是8位，一个放在AL中，另一个放在8位reg或内存单元中，结果存放在AX中。如果都是16位，一个放在AX中，另一个放在16位reg或内存单元中，结果高位在DX中，低位在AX中。</p><pre><code>mul byte ptr ds:[0]        ;8位乘法
mul word ptr [bx]        ;16位乘法
</code></pre><p>cmp指令，比较指令，执行后改变标志位寄存器相应位置的值，与下列指令可以配合使用</p><ul><li>je指令，等于则转移</li><li>jne指令，不等于则转移</li><li>jb指令，低于则转移</li><li>jnb指令，不低于则转移</li><li>ja，高于则转移</li><li>jna指令，不高于则转移</li></ul><p>movsb指令，将ds:si指向的内存单元中的字节送入es:di中，然后根据标志寄存器df位的值，将si和di递增或递减，movsw则是将si或di递增2或递减2</p><p>rep指令，根据cx的值，重复执行后面的传传送指令，通常写法为rep movsp或rep movsw<br>cld指令，将标志寄存器df置0</p><p>std指令，将标志寄存器df置1</p><p>pushf指令，将标志寄存器置压栈</p><p>popf指令，从栈中弹出数据，送入标志寄存器</p><p>int指令，中断指令</p><pre><code>int n        ;n为中断类型码
</code></pre><p>iret指令，中断返回指令，相当于pop cs，pop ip，popf<br>shl指令与shr指令，移位指令，shl将最后移出的位写入CF,shr与其相反。</p><pre><code>mov al,01001000b
shl al,1
al=10010000b,cf=0

mov al,01001000b
mov cl,2
shl al,cl
al=00100000b,cf=1

mov al,01001000b
shr al,1
al=00100100b,cf=0
</code></pre><p>sti命令与cli命令，sti设置IF为1，cli设置IF为0，如果IF为1，则CPU执行完当前指令后响应中断，如果IF为0，则不响应可屏蔽中断.</p><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>以上所述为本人目前学习的所有指令，还有许多其余指令未学，可能会补充。</p><hr></div><br><div><p><span><i class="iconfont icon-tag"></i> <a class="hover-with-bg" href="/tags/Assume">Assume</a></span></p><p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://zh.wikipedia.org/wiki/Wikipedia:CC_BY-SA_3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank" rel="nofollow noopener noopener">CC BY-SA 3.0协议</a> 。转载请注明出处！</p><div class="col-lg-7 mx-auto nopadding-md"><div class="container comments mx-auto" id="comments"><br><br><div class="disqus" style="width:100%"><div id="disqus_thread"></div><script>var disqus_config=function(){this.page.url="http://yoursite.com/2020/11/04/Assume总结/",this.page.identifier="/2020/11/04/Assume总结/"},oldLoad=window.onload;window.onload=function(){var t=document,e=t.createElement("script");e.type="text/javascript",e.src="//inaho-top.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" target="_blank" rel="nofollow noopener noopener">comments powered by Disqus.</a></noscript></div></div></div></div></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container"><div id="toc"><p class="h4"><i class="far fa-list-alt"></i>&nbsp;目录</p><div id="tocbot"></div></div></div></div></div></main><a class="z-depth-1" id="scroll-top-button" href="#" role="button"><i class="fa fa-chevron-up scroll-top-arrow" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div><div id="footerContent" class="rgba-black-slight"><footer class="pt-5"><div style="color:#fff" class="text-center py-3"><a style="color:#fff" href="https://hexo.io" target="_blank" rel="nofollow noopener"><b>Hexo支持</b></a> <i class="iconfont icon-love"></i> <a style="color:#fff" href="https://disqus.com/" target="_blank" rel="nofollow noopener"><b>Disqus 评论系统 </b></a><i class="iconfont icon-love"></i> <a style="color:#fff" href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><b>主题Fluid </b></a><i class="iconfont icon-love"></i> <a style="color:#fff" href="https://www.pixiv.net/" target="_blank" rel="nofollow noopener"><b>图片 Pixiv</b></a><br>&nbsp;<span id="busuanzi_container_site_pv">总访问量 <span id="busuanzi_value_site_pv"></span> 次</span>&nbsp; &nbsp;<span id="busuanzi_container_site_uv">总访客数 <span id="busuanzi_value_site_uv"></span> 人</span>&nbsp;<br></div></footer></div><script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script><script src="/lib/popper/popper.min.js"></script><script src="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script><script src="https://cdn.staticfile.org/mdbootstrap/4.8.7/js/mdb.min.js"></script><script src="/js/main.js"></script><script src="/js/lazyload.js"></script><script src="/lib/tocbot/tocbot.min.js"></script><script src="/js/post.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/lib/prettify/prettify.min.js"></script><script>$(document).ready((function(){$("pre").addClass("prettyprint  linenums"),prettyPrint()}))</script><script src="/lib/typed/typed.min.js"></script><script>var typed=new Typed("#subtitle",{strings:["  ","Assume总结&nbsp;"],cursorChar:"_",typeSpeed:70,loop:!1});typed.stop(),$(document).ready((function(){$(".typed-cursor").addClass("h2"),typed.start()}))</script><script src="https://cdn.staticfile.org/anchor-js/4.2.0/anchor.min.js"></script><script>anchors.options={placement:"right",visible:"false"};var el="h1,h2,h3,h4,h5,h6".split(","),res=[];for(item of el)res.push(".markdown-body > "+item);anchors.add(res.join(", "))</script><script src="/js/local-search.js"></script><script>var path="/local-search.xml",inputArea=document.querySelector("#local-search-input");inputArea.onclick=function(){getSearchFile(path),this.onclick=null}</script><script src="/lib/fancybox/jquery.fancybox.min.js"></script><script>$("#post img:not(.no-zoom img, img[no-zoom])").each((function(){var t=document.createElement("a");$(t).attr("data-fancybox","images"),$(t).attr("href",$(this).attr("src")),$(this).wrap(t)}))</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
          tex2jax: {
              inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
              processEscapes: true,
              skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
          }
      });

      MathJax.Hub.Queue(function() {
          var all = MathJax.Hub.getAllJax(), i;
          for(i=0; i < all.length; i += 1) {
              all[i].SourceElement().parentNode.className += ' has-jax';
          }
      });</script><script src="https://cdn.staticfile.org/mathjax/2.7.6/MathJax.js?config=TeX-MML-AM_CHTML"></script><script type="text/javascript">$("#background").removeClass("banner-bg"),$("body").addClass("banner-bg");var postToTopHight=$("#board").offset().top;$(window).scroll((function(){document.body.scrollTop+document.documentElement.scrollTop>=postToTopHight?($("#background").removeClass("rgba-black-slight"),$("#mainContent").removeClass("rgba-black-slight"),$("#footerContent").removeClass("rgba-black-slight")):($("#background").addClass("rgba-black-slight"),$("#mainContent").addClass("rgba-black-slight"),$("#footerContent").addClass("rgba-black-slight"))}))</script></body></html>