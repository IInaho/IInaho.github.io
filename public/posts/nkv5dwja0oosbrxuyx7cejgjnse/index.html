<!DOCTYPE html>
<html lang="zh-cn">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
串、数组和广义表 · inaho
</title>
  





<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">





<meta name="author" content="inaho">
<meta name="description" content="
  字符串
  
    
    @
  




  串的定义
  
    
    @
  

串(String)(或字符串)是由零个或多个字符组成的有限序列,一般记为
$$ s = a_1a_2 \cdots a_n \quad(n \geq 0) $$

串中字符的数目 n 称为串的长度，零个字符的串称为空串，长度为零。
串中任意个连续的字符组成的子序列称为该串的子串，包含子串的串相应地称为主串。
两个串长度相等，并且各个对应位置的字符都相等时才相等。
一个或多个空格组成的串称为空格串




  串的抽象类型定义
  
    
    @
  

StrAssign(&amp;T,Chars)        //chars是字符串常量，生成一个其值等于chars的串T
StrCopy(&amp;T,S)            //串存在，由串S复制得串T
StrEmpty(S)                //串存在，判断S是否为空串
StrCompare(S,T)            //串S与T存在，若S&gt;T返回值&gt;0,S=T,返回值=0，S&lt;T,返回值&lt;0
StrLength(S)            //串存在，返回S的元素个数，称为串的长度
ClearString(&amp;S)            //串存在，将S清为空串
Concat(&amp;T,S1,S2)        //串S1与S2存在，用T返回S1与S2拼接的新串
SubString(&amp;Sub,S,pos,len)    //串存在，1&lt;=pos&lt;=StrLength(S)且0&lt;=len&lt;=Strlength(S)-pos&#43;1，用Sub返回串S的第pos个字串起长度为len的字串
Index(S,T,pos)            //串S和T存在，T是非空串，1&lt;=pos&lt;=StrLength(S)，若主串S中存在和串T值相同的字串，则返回它在主串S中第pos个字符之后第一次出现的位置，否则函数值为0
Replace(&amp;S,T,V)            //S,T,V存在，T是非空串，用V替换主串S中出现的所有与T相等的不重叠的字串
StrInsert(&amp;S,pos,T)        //串S与T存在，T是非空串，用V替换主串S中出现的所有与T相等的不重叠的子串
StrDelete(&amp;S,pos,len)    //串S存在，1&lt;=pos&lt;=StrLength(S)-len&#43;1，从串S中删除第pos个字符起长度为len的字串
DestroyString(&amp;S)        //串存在，销魂串



  串的存储结构
  
    
    @
  




  串的顺序存储
  
    
    @
  




  串的定长顺序存储结构
  
    
    @
  

#define MAXLEN 255
typedef struct{
    char ch[MAXLEN&#43;1];        //储存串的一维数组
    int length;                //串的长度
}SString;



  串的堆式顺序存储结构
  
    
    @
  

typedef struct{
    char *ch;                //若是非空串，则按串长分配存储区，否则ch为NULL
    int length;                //串的当前长度
}HString;



  串的顺序存储简易代码
  
    
    @
  

用一组地址连续的存储单元存储串的字符序列，为了根据实际需要，在程序执行过程中动态分配和释放字符数组空间，使用堆式顺序存储结构。">
<meta name="keywords" content="blog,developer,personal">






  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="串、数组和广义表">
  <meta name="twitter:description" content="字符串 @ 串的定义 @ 串(String)(或字符串)是由零个或多个字符组成的有限序列,一般记为
$$ s = a_1a_2 \cdots a_n \quad(n \geq 0) $$
串中字符的数目 n 称为串的长度，零个字符的串称为空串，长度为零。 串中任意个连续的字符组成的子序列称为该串的子串，包含子串的串相应地称为主串。 两个串长度相等，并且各个对应位置的字符都相等时才相等。 一个或多个空格组成的串称为空格串 串的抽象类型定义 @ StrAssign(&amp;T,Chars) //chars是字符串常量，生成一个其值等于chars的串T StrCopy(&amp;T,S) //串存在，由串S复制得串T StrEmpty(S) //串存在，判断S是否为空串 StrCompare(S,T) //串S与T存在，若S&gt;T返回值&gt;0,S=T,返回值=0，S&lt;T,返回值&lt;0 StrLength(S) //串存在，返回S的元素个数，称为串的长度 ClearString(&amp;S) //串存在，将S清为空串 Concat(&amp;T,S1,S2) //串S1与S2存在，用T返回S1与S2拼接的新串 SubString(&amp;Sub,S,pos,len) //串存在，1&lt;=pos&lt;=StrLength(S)且0&lt;=len&lt;=Strlength(S)-pos&#43;1，用Sub返回串S的第pos个字串起长度为len的字串 Index(S,T,pos) //串S和T存在，T是非空串，1&lt;=pos&lt;=StrLength(S)，若主串S中存在和串T值相同的字串，则返回它在主串S中第pos个字符之后第一次出现的位置，否则函数值为0 Replace(&amp;S,T,V) //S,T,V存在，T是非空串，用V替换主串S中出现的所有与T相等的不重叠的字串 StrInsert(&amp;S,pos,T) //串S与T存在，T是非空串，用V替换主串S中出现的所有与T相等的不重叠的子串 StrDelete(&amp;S,pos,len) //串S存在，1&lt;=pos&lt;=StrLength(S)-len&#43;1，从串S中删除第pos个字符起长度为len的字串 DestroyString(&amp;S) //串存在，销魂串 串的存储结构 @ 串的顺序存储 @ 串的定长顺序存储结构 @ #define MAXLEN 255 typedef struct{ char ch[MAXLEN&#43;1]; //储存串的一维数组 int length; //串的长度 }SString; 串的堆式顺序存储结构 @ typedef struct{ char *ch; //若是非空串，则按串长分配存储区，否则ch为NULL int length; //串的当前长度 }HString; 串的顺序存储简易代码 @ 用一组地址连续的存储单元存储串的字符序列，为了根据实际需要，在程序执行过程中动态分配和释放字符数组空间，使用堆式顺序存储结构。">
 
<meta property="og:url" content="//localhost:1313/posts/nkv5dwja0oosbrxuyx7cejgjnse/">
  <meta property="og:site_name" content="inaho">
  <meta property="og:title" content="串、数组和广义表">
  <meta property="og:description" content="字符串 @ 串的定义 @ 串(String)(或字符串)是由零个或多个字符组成的有限序列,一般记为
$$ s = a_1a_2 \cdots a_n \quad(n \geq 0) $$
串中字符的数目 n 称为串的长度，零个字符的串称为空串，长度为零。 串中任意个连续的字符组成的子序列称为该串的子串，包含子串的串相应地称为主串。 两个串长度相等，并且各个对应位置的字符都相等时才相等。 一个或多个空格组成的串称为空格串 串的抽象类型定义 @ StrAssign(&amp;T,Chars) //chars是字符串常量，生成一个其值等于chars的串T StrCopy(&amp;T,S) //串存在，由串S复制得串T StrEmpty(S) //串存在，判断S是否为空串 StrCompare(S,T) //串S与T存在，若S&gt;T返回值&gt;0,S=T,返回值=0，S&lt;T,返回值&lt;0 StrLength(S) //串存在，返回S的元素个数，称为串的长度 ClearString(&amp;S) //串存在，将S清为空串 Concat(&amp;T,S1,S2) //串S1与S2存在，用T返回S1与S2拼接的新串 SubString(&amp;Sub,S,pos,len) //串存在，1&lt;=pos&lt;=StrLength(S)且0&lt;=len&lt;=Strlength(S)-pos&#43;1，用Sub返回串S的第pos个字串起长度为len的字串 Index(S,T,pos) //串S和T存在，T是非空串，1&lt;=pos&lt;=StrLength(S)，若主串S中存在和串T值相同的字串，则返回它在主串S中第pos个字符之后第一次出现的位置，否则函数值为0 Replace(&amp;S,T,V) //S,T,V存在，T是非空串，用V替换主串S中出现的所有与T相等的不重叠的字串 StrInsert(&amp;S,pos,T) //串S与T存在，T是非空串，用V替换主串S中出现的所有与T相等的不重叠的子串 StrDelete(&amp;S,pos,len) //串S存在，1&lt;=pos&lt;=StrLength(S)-len&#43;1，从串S中删除第pos个字符起长度为len的字串 DestroyString(&amp;S) //串存在，销魂串 串的存储结构 @ 串的顺序存储 @ 串的定长顺序存储结构 @ #define MAXLEN 255 typedef struct{ char ch[MAXLEN&#43;1]; //储存串的一维数组 int length; //串的长度 }SString; 串的堆式顺序存储结构 @ typedef struct{ char *ch; //若是非空串，则按串长分配存储区，否则ch为NULL int length; //串的当前长度 }HString; 串的顺序存储简易代码 @ 用一组地址连续的存储单元存储串的字符序列，为了根据实际需要，在程序执行过程中动态分配和释放字符数组空间，使用堆式顺序存储结构。">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2020-05-14T00:00:00+00:00">
    <meta property="article:modified_time" content="2020-05-14T00:00:00+00:00">
    <meta property="article:tag" content="数据结构">
      <meta property="og:see_also" content="//localhost:1313/posts/bzyiduql6opzodxxglncvrm0nvb/">
      <meta property="og:see_also" content="//localhost:1313/posts/pn4kd6n1eos5xyxutuaciqhfnjb/">
      <meta property="og:see_also" content="//localhost:1313/posts/qtnbdqineorsxpx02uucpayvnxh/">
      <meta property="og:see_also" content="//localhost:1313/posts/rfybd7gssoktinxwskock7atn8c/">
      <meta property="og:see_also" content="//localhost:1313/posts/yewvdflgtouwdrxf7wscztngnjc/">
      <meta property="og:see_also" content="//localhost:1313/posts/lhqcd8fsiof6ckxbpvncx0vtnlg/">
      <meta property="og:see_also" content="//localhost:1313/posts/gafvd5ysioq746xujeocgxzln7b/">






<link rel="canonical" href="//localhost:1313/posts/nkv5dwja0oosbrxuyx7cejgjnse/">








<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>



  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">








  
    
    
    <link rel="stylesheet" href="/css/coder-dark.css" media="screen">
  







 
<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">
 









<script type="text/javascript"
        async
        src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[\[','\]\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});

MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<style>
code.has-jax {
    font: inherit;
    font-size: 100%;
    background: inherit;
    border: inherit;
    color: #515151;
}
</style>

<script src="//yihui.org/js/math-code.js" defer></script>
<script defer
  src="//mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script> 

</head>






<body class="preload-transitions colorscheme-auto">
  



<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="button-icon"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    
    <a class="navigation-title" href="//localhost:1313/">
      inaho
    </a>
    
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/posts/">文章</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/tags/">标签</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/categories/">分类</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">关于</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/friends/">友链</a>
            </li>
          
        
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
<aside class="table-of-contents">
  <div class="toc-container">
    <h2>目录</h2>
    
    <nav id="TableOfContents">
  <ul>
    <li><a href="#字符串">字符串</a>
      <ul>
        <li><a href="#串的定义">串的定义</a></li>
        <li><a href="#串的抽象类型定义">串的抽象类型定义</a></li>
        <li><a href="#串的存储结构">串的存储结构</a>
          <ul>
            <li><a href="#串的顺序存储">串的顺序存储</a>
              <ul>
                <li><a href="#串的定长顺序存储结构">串的定长顺序存储结构</a></li>
                <li><a href="#串的堆式顺序存储结构">串的堆式顺序存储结构</a></li>
              </ul>
            </li>
            <li><a href="#串的顺序存储简易代码">串的顺序存储简易代码</a></li>
            <li><a href="#串的链式存储结构">串的链式存储结构</a></li>
            <li><a href="#串的模式匹配算法">串的模式匹配算法</a>
              <ul>
                <li><a href="#bf-算法">BF 算法</a></li>
                <li><a href="#kmp-算法">KMP 算法</a></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#数组">数组</a>
      <ul>
        <li><a href="#数组类型的定义">数组类型的定义</a>
          <ul>
            <li><a href="#抽象数据类型-adt-定义">抽象数据类型 ADT 定义</a></li>
          </ul>
        </li>
        <li><a href="#数组的顺序存储">数组的顺序存储</a></li>
        <li><a href="#特殊矩阵的压缩处理"><strong>特殊矩阵的压缩处理</strong></a>
          <ul>
            <li><a href="#对称矩阵"><strong>对称矩阵</strong></a></li>
            <li><a href="#三角矩阵"><strong>三角矩阵</strong></a>
              <ul>
                <li><a href="#n-阶上三角矩阵压缩矩阵与原矩阵的对应关系为"><strong>n 阶上三角矩阵，压缩矩阵与原矩阵的对应关系为</strong></a></li>
                <li><a href="#n-阶下三角矩阵压缩矩阵与原矩阵的对应关系为"><strong>n 阶下三角矩阵，压缩矩阵与原矩阵的对应关系为</strong></a></li>
              </ul>
            </li>
            <li><a href="#对角矩阵"><strong>对角矩阵</strong></a>
              <ul>
                <li><a href="#对称矩阵压缩代码示例">对称矩阵压缩代码示例</a></li>
                <li><a href="#三角矩阵定义示例">三角矩阵定义示例</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#稀疏矩阵">稀疏矩阵</a>
          <ul>
            <li><a href="#三元组压缩存储">三元组压缩存储</a>
              <ul>
                <li><a href="#三元组存稀疏矩阵代码示例">三元组存稀疏矩阵代码示例</a></li>
              </ul>
            </li>
            <li><a href="#十字链表">十字链表</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#广义表">广义表</a>
      <ul>
        <li><a href="#广义表的定义">广义表的定义</a></li>
        <li><a href="#广义表的重要结论">广义表的重要结论</a></li>
        <li><a href="#广义表的运算及定义">广义表的运算及定义</a></li>
        <li><a href="#广义表的存储结构">广义表的存储结构</a></li>
      </ul>
    </li>
  </ul>
</nav>
    
  </div>
</aside>
<section class="container post">
  <article>
    <header>
      <div class="post-title">
        <h1 class="title">
          <a class="title-link" href="//localhost:1313/posts/nkv5dwja0oosbrxuyx7cejgjnse/">
            串、数组和广义表
          </a>
        </h1>
      </div>
      <div class="post-meta">
        <div class="date">
          <span class="posted-on">
            <i class="fa-solid fa-calendar" aria-hidden="true"></i>
            <time datetime=" 2020-05-14T00:00:00Z">
              2020-05-14
            </time>
          </span>
          <span class="reading-time">
            <i class="fa-solid fa-clock" aria-hidden="true"></i>
            阅读时间：10 分钟
          </span>
          <span class="post-word-count">
            <i class="fa fa-pie-chart" aria-hidden="true" style="margin-left: 10px;"></i>
            136449 字
          </span>
        </div>
        

<div class="authors">
  <i class="fa-solid fa-user" aria-hidden="true"></i>
  <a href="/authors/lzy/">Lzy</a></div>
        

<div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">计算机基础知识</a></div>
        

<div class="tags">
  <i class="fa-solid fa-tag" aria-hidden="true"></i>
  <span class="tag">
    <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a>
  </span></div>
      </div>
    </header>

    <div class="post-content">
      
      

<h1 id="字符串">
  字符串
  <a class="heading-link" href="#%e5%ad%97%e7%ac%a6%e4%b8%b2">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h1>


<h2 id="串的定义">
  串的定义
  <a class="heading-link" href="#%e4%b8%b2%e7%9a%84%e5%ae%9a%e4%b9%89">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h2>
<p>串(String)(或字符串)是由零个或多个字符组成的有限序列,一般记为</p>
<p><code>$$ s = a_1a_2 \cdots a_n \quad(n \geq 0) $$</code></p>
<ul>
<li>串中字符的数目 n 称为串的长度，零个字符的串称为空串，长度为零。</li>
<li>串中任意个连续的字符组成的子序列称为该串的子串，包含子串的串相应地称为主串。</li>
<li>两个串长度相等，并且各个对应位置的字符都相等时才相等。</li>
<li>一个或多个空格组成的串称为空格串</li>
</ul>


<h2 id="串的抽象类型定义">
  串的抽象类型定义
  <a class="heading-link" href="#%e4%b8%b2%e7%9a%84%e6%8a%bd%e8%b1%a1%e7%b1%bb%e5%9e%8b%e5%ae%9a%e4%b9%89">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="nf">StrAssign</span><span class="p">(</span><span class="o">&amp;</span><span class="n">T</span><span class="p">,</span><span class="n">Chars</span><span class="p">)</span>        <span class="c1">//chars是字符串常量，生成一个其值等于chars的串T
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">StrCopy</span><span class="p">(</span><span class="o">&amp;</span><span class="n">T</span><span class="p">,</span><span class="n">S</span><span class="p">)</span>            <span class="c1">//串存在，由串S复制得串T
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">StrEmpty</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>                <span class="c1">//串存在，判断S是否为空串
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">StrCompare</span><span class="p">(</span><span class="n">S</span><span class="p">,</span><span class="n">T</span><span class="p">)</span>            <span class="c1">//串S与T存在，若S&gt;T返回值&gt;0,S=T,返回值=0，S&lt;T,返回值&lt;0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">StrLength</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>            <span class="c1">//串存在，返回S的元素个数，称为串的长度
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">ClearString</span><span class="p">(</span><span class="o">&amp;</span><span class="n">S</span><span class="p">)</span>            <span class="c1">//串存在，将S清为空串
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">Concat</span><span class="p">(</span><span class="o">&amp;</span><span class="n">T</span><span class="p">,</span><span class="n">S1</span><span class="p">,</span><span class="n">S2</span><span class="p">)</span>        <span class="c1">//串S1与S2存在，用T返回S1与S2拼接的新串
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">SubString</span><span class="p">(</span><span class="o">&amp;</span><span class="n">Sub</span><span class="p">,</span><span class="n">S</span><span class="p">,</span><span class="n">pos</span><span class="p">,</span><span class="n">len</span><span class="p">)</span>    <span class="c1">//串存在，1&lt;=pos&lt;=StrLength(S)且0&lt;=len&lt;=Strlength(S)-pos+1，用Sub返回串S的第pos个字串起长度为len的字串
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">Index</span><span class="p">(</span><span class="n">S</span><span class="p">,</span><span class="n">T</span><span class="p">,</span><span class="n">pos</span><span class="p">)</span>            <span class="c1">//串S和T存在，T是非空串，1&lt;=pos&lt;=StrLength(S)，若主串S中存在和串T值相同的字串，则返回它在主串S中第pos个字符之后第一次出现的位置，否则函数值为0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">Replace</span><span class="p">(</span><span class="o">&amp;</span><span class="n">S</span><span class="p">,</span><span class="n">T</span><span class="p">,</span><span class="n">V</span><span class="p">)</span>            <span class="c1">//S,T,V存在，T是非空串，用V替换主串S中出现的所有与T相等的不重叠的字串
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">StrInsert</span><span class="p">(</span><span class="o">&amp;</span><span class="n">S</span><span class="p">,</span><span class="n">pos</span><span class="p">,</span><span class="n">T</span><span class="p">)</span>        <span class="c1">//串S与T存在，T是非空串，用V替换主串S中出现的所有与T相等的不重叠的子串
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">StrDelete</span><span class="p">(</span><span class="o">&amp;</span><span class="n">S</span><span class="p">,</span><span class="n">pos</span><span class="p">,</span><span class="n">len</span><span class="p">)</span>    <span class="c1">//串S存在，1&lt;=pos&lt;=StrLength(S)-len+1，从串S中删除第pos个字符起长度为len的字串
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">DestroyString</span><span class="p">(</span><span class="o">&amp;</span><span class="n">S</span><span class="p">)</span>        <span class="c1">//串存在，销魂串
</span></span></span></code></pre></div>

<h2 id="串的存储结构">
  串的存储结构
  <a class="heading-link" href="#%e4%b8%b2%e7%9a%84%e5%ad%98%e5%82%a8%e7%bb%93%e6%9e%84">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h2>


<h3 id="串的顺序存储">
  串的顺序存储
  <a class="heading-link" href="#%e4%b8%b2%e7%9a%84%e9%a1%ba%e5%ba%8f%e5%ad%98%e5%82%a8">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h3>


<h4 id="串的定长顺序存储结构">
  串的定长顺序存储结构
  <a class="heading-link" href="#%e4%b8%b2%e7%9a%84%e5%ae%9a%e9%95%bf%e9%a1%ba%e5%ba%8f%e5%ad%98%e5%82%a8%e7%bb%93%e6%9e%84">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#define MAXLEN 255
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="k">typedef</span> <span class="k">struct</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">char</span> <span class="n">ch</span><span class="p">[</span><span class="n">MAXLEN</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>        <span class="c1">//储存串的一维数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">length</span><span class="p">;</span>                <span class="c1">//串的长度
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span><span class="n">SString</span><span class="p">;</span>
</span></span></code></pre></div>

<h4 id="串的堆式顺序存储结构">
  串的堆式顺序存储结构
  <a class="heading-link" href="#%e4%b8%b2%e7%9a%84%e5%a0%86%e5%bc%8f%e9%a1%ba%e5%ba%8f%e5%ad%98%e5%82%a8%e7%bb%93%e6%9e%84">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">typedef</span> <span class="k">struct</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">char</span> <span class="o">*</span><span class="n">ch</span><span class="p">;</span>                <span class="c1">//若是非空串，则按串长分配存储区，否则ch为NULL
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">length</span><span class="p">;</span>                <span class="c1">//串的当前长度
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span><span class="n">HString</span><span class="p">;</span>
</span></span></code></pre></div>

<h3 id="串的顺序存储简易代码">
  串的顺序存储简易代码
  <a class="heading-link" href="#%e4%b8%b2%e7%9a%84%e9%a1%ba%e5%ba%8f%e5%ad%98%e5%82%a8%e7%ae%80%e6%98%93%e4%bb%a3%e7%a0%81">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h3>
<p>用一组地址连续的存储单元存储串的字符序列，为了根据实际需要，在程序执行过程中动态分配和释放字符数组空间，使用堆式顺序存储结构。</p>
<p><strong>堆式顺序存储结构举例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">char</span> <span class="o">*</span><span class="n">ch</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">length</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="n">HString</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">StrAssign</span><span class="p">(</span><span class="n">HString</span> <span class="o">*</span><span class="n">s</span><span class="p">,</span><span class="k">const</span> <span class="kt">char</span> <span class="n">chars</span><span class="p">[])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="n">chars</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">i</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span><span class="o">-&gt;</span><span class="n">ch</span> <span class="o">=</span> <span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="nf">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">)</span><span class="o">*</span><span class="n">i</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="o">-&gt;</span><span class="n">ch</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span><span class="o">-&gt;</span><span class="n">length</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">i</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">s</span><span class="o">-&gt;</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">chars</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">StrCopy</span><span class="p">(</span><span class="n">HString</span> <span class="o">*</span><span class="n">t</span><span class="p">,</span><span class="n">HString</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">t</span><span class="o">-&gt;</span><span class="n">ch</span> <span class="o">=</span> <span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="nf">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">)</span><span class="o">*</span><span class="n">s</span><span class="p">.</span><span class="n">length</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">t</span><span class="o">-&gt;</span><span class="n">length</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">length</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">t</span><span class="o">-&gt;</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">StrEmpty</span><span class="p">(</span><span class="n">HString</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">StrCompare</span><span class="p">(</span><span class="n">HString</span> <span class="n">s</span><span class="p">,</span><span class="n">HString</span> <span class="n">t</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">Min_length</span> <span class="o">=</span> <span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">length</span> <span class="o">&lt;</span> <span class="n">t</span><span class="p">.</span><span class="n">length</span><span class="p">)</span> <span class="o">?</span> <span class="n">s</span><span class="p">.</span><span class="nl">length</span> <span class="p">:</span> <span class="n">t</span><span class="p">.</span><span class="n">length</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">t</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="n">Min_length</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">i</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">t</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">t</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">StrLength</span><span class="p">(</span><span class="n">HString</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">s</span><span class="p">.</span><span class="n">length</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">ClearString</span><span class="p">(</span><span class="n">HString</span> <span class="o">*</span><span class="n">s</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">char</span>  <span class="o">*</span><span class="n">temp</span> <span class="o">=</span> <span class="n">s</span><span class="o">-&gt;</span><span class="n">ch</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span><span class="o">-&gt;</span><span class="n">ch</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">free</span><span class="p">(</span><span class="n">temp</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span><span class="o">-&gt;</span><span class="n">length</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Concat</span><span class="p">(</span><span class="n">HString</span> <span class="o">*</span><span class="n">t</span><span class="p">,</span><span class="n">HString</span> <span class="n">s1</span><span class="p">,</span> <span class="n">HString</span> <span class="n">s2</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">t</span><span class="o">-&gt;</span><span class="n">length</span> <span class="o">=</span> <span class="n">s1</span><span class="p">.</span><span class="n">length</span> <span class="o">+</span> <span class="n">s2</span><span class="p">.</span><span class="n">length</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">t</span><span class="o">-&gt;</span><span class="n">ch</span> <span class="o">=</span> <span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="nf">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">t</span><span class="o">-&gt;</span><span class="n">length</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">s1</span><span class="p">.</span><span class="n">length</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">t</span><span class="o">-&gt;</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">s1</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="n">i</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="n">j</span> <span class="o">&lt;</span> <span class="n">s2</span><span class="p">.</span><span class="n">length</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">t</span><span class="o">-&gt;</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="n">j</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">i</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">SubString</span><span class="p">(</span><span class="n">HString</span> <span class="o">*</span><span class="n">sub</span><span class="p">,</span><span class="n">HString</span> <span class="n">s</span><span class="p">,</span><span class="kt">int</span> <span class="n">pos</span><span class="p">,</span><span class="kt">int</span> <span class="n">len</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">sub</span><span class="o">-&gt;</span><span class="n">length</span> <span class="o">=</span> <span class="n">len</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">sub</span><span class="o">-&gt;</span><span class="n">ch</span> <span class="o">=</span> <span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="nf">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">)</span><span class="o">*</span><span class="n">len</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">pos</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span> <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">length</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">sub</span><span class="o">-&gt;</span><span class="n">ch</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="n">i</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">j</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">DestroyString</span><span class="p">(</span><span class="n">HString</span> <span class="o">*</span><span class="n">s</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">char</span> <span class="o">*</span><span class="n">temp</span> <span class="o">=</span> <span class="n">s</span><span class="o">-&gt;</span><span class="n">ch</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">free</span><span class="p">(</span><span class="n">s</span><span class="o">-&gt;</span><span class="n">ch</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nf">free</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">StrPrint</span><span class="p">(</span><span class="n">HString</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">length</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="n">i</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//测试
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">HString</span> <span class="n">s</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">StrAssign</span><span class="p">(</span><span class="o">&amp;</span><span class="n">s</span><span class="p">,</span> <span class="s">&#34;abcdefg&#34;</span><span class="p">);</span>        <span class="c1">//根据字符串常量生成字符串
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">HString</span> <span class="n">t</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">StrCopy</span><span class="p">(</span><span class="o">&amp;</span><span class="n">t</span><span class="p">,</span> <span class="n">s</span><span class="p">);</span>        <span class="c1">//复制串s
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">HString</span> <span class="n">a</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">StrAssign</span><span class="p">(</span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span> <span class="s">&#34;xcvbad&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="nf">StrCompare</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>        <span class="c1">//比较字符串
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="nf">StrLength</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>            <span class="c1">//返回字符串长度
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">HString</span>  <span class="n">b</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">Concat</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">a</span><span class="p">);</span>                        <span class="c1">//拼凑字符串
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">HString</span> <span class="n">c</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">SubString</span><span class="p">(</span><span class="o">&amp;</span><span class="n">c</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>                    <span class="c1">//返回s串从1位置起长度为3的子串
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">StrPrint</span><span class="p">(</span><span class="n">c</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nf">StrPrint</span><span class="p">(</span><span class="n">b</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nf">StrPrint</span><span class="p">(</span><span class="n">t</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//StrPrint(s);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">getchar</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>

<h3 id="串的链式存储结构">
  串的链式存储结构
  <a class="heading-link" href="#%e4%b8%b2%e7%9a%84%e9%93%be%e5%bc%8f%e5%ad%98%e5%82%a8%e7%bb%93%e6%9e%84">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h3>
<p>顺序串插入与删除并不方便，需要移动大量字符，因此使用单链表方式存储串。</p>
<p>如果所存的串元素数量很大，串链中的结点数据域可以采用数组的结构对串进行遍历时间上的优化.</p>
<p>如果串的元素比较少，那么使用普通的字符类型作为结点的数据域更加节省空间。</p>
<p><strong>数组加链表，代码举例</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#define CHUNKSIZE 3
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="k">typedef</span> <span class="k">struct</span> <span class="n">Chunk</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">char</span> <span class="n">ch</span><span class="p">[</span><span class="n">CHUNKSIZE</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="k">struct</span> <span class="n">Chunk</span> <span class="o">*</span><span class="n">next</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="n">Chunk</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">typedef</span>  <span class="k">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Chunk</span> <span class="o">*</span><span class="n">head</span><span class="p">,</span> <span class="o">*</span><span class="n">tail</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">Chunk_num</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">length</span><span class="p">;</span>                                                <span class="c1">//字符串字符数量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span><span class="n">LString</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">StrAssign</span><span class="p">(</span><span class="n">LString</span> <span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="n">chars</span><span class="p">[])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">chars_len</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>                                        <span class="c1">//常量字符长度
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">nowChunk_num</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>                                    <span class="c1">//当前已有块数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">s</span><span class="o">-&gt;</span><span class="n">Chunk_num</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="n">chars</span><span class="p">[</span><span class="n">chars_len</span><span class="p">]</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">chars_len</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span><span class="o">-&gt;</span><span class="n">Chunk_num</span> <span class="o">=</span> <span class="p">(</span><span class="n">chars_len</span> <span class="o">/</span> <span class="n">CHUNKSIZE</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>                    <span class="c1">//串链块数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">s</span><span class="o">-&gt;</span><span class="n">length</span> <span class="o">=</span> <span class="n">chars_len</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//串申请
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="n">chars_len</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">s</span><span class="o">-&gt;</span><span class="n">head</span> <span class="o">=</span> <span class="p">(</span><span class="n">Chunk</span><span class="o">*</span><span class="p">)</span><span class="nf">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">Chunk</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">        <span class="n">s</span><span class="o">-&gt;</span><span class="n">tail</span> <span class="o">=</span> <span class="n">s</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">nowChunk_num</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="n">nowChunk_num</span> <span class="o">&lt;</span> <span class="n">s</span><span class="o">-&gt;</span><span class="n">Chunk_num</span><span class="p">)</span> <span class="p">{</span>                        <span class="c1">//申请块
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">Chunk</span><span class="o">*</span> <span class="n">temp</span> <span class="o">=</span> <span class="p">(</span><span class="n">Chunk</span><span class="o">*</span><span class="p">)</span><span class="nf">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">Chunk</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">        <span class="n">s</span><span class="o">-&gt;</span><span class="n">tail</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">s</span><span class="o">-&gt;</span><span class="n">tail</span> <span class="o">=</span> <span class="n">s</span><span class="o">-&gt;</span><span class="n">tail</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">s</span><span class="o">-&gt;</span><span class="n">tail</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">nowChunk_num</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 串赋值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">chars_p</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>                                        <span class="c1">//chars字符当前位置
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Chunk</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">s</span><span class="o">-&gt;</span><span class="n">head</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="n">p</span> <span class="o">=</span> <span class="n">s</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">;</span>                        <span class="c1">//串当前指针
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">while</span> <span class="p">(</span><span class="n">p</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">CHUNKSIZE</span> <span class="o">&amp;&amp;</span> <span class="n">chars_p</span> <span class="o">&lt;</span> <span class="n">chars_len</span><span class="p">);</span> <span class="n">i</span><span class="o">++</span><span class="p">,</span> <span class="n">chars_p</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">p</span><span class="o">-&gt;</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">chars</span><span class="p">[</span><span class="n">chars_p</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">StrPrint</span><span class="p">(</span><span class="n">LString</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Chunk</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">head</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="n">p</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">CHUNKSIZE</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span><span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;=</span><span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">127</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">            <span class="k">else</span> <span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span><span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">StrCopy</span><span class="p">(</span><span class="n">LString</span> <span class="o">*</span><span class="n">t</span><span class="p">,</span> <span class="n">LString</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">t</span><span class="o">-&gt;</span><span class="n">length</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">length</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">t</span><span class="o">-&gt;</span><span class="n">Chunk_num</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">Chunk</span> <span class="o">*</span><span class="n">s_p</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>                <span class="c1">//s块指针
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Chunk</span> <span class="o">*</span><span class="n">t_p</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>                <span class="c1">//t块指针
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">head</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">t</span><span class="o">-&gt;</span><span class="n">head</span> <span class="o">=</span> <span class="p">(</span><span class="n">Chunk</span><span class="o">*</span><span class="p">)</span><span class="nf">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">Chunk</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">        <span class="n">t</span><span class="o">-&gt;</span><span class="n">tail</span> <span class="o">=</span> <span class="n">t</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">t</span><span class="o">-&gt;</span><span class="n">Chunk_num</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="n">t</span><span class="o">-&gt;</span><span class="n">Chunk_num</span> <span class="o">&lt;</span><span class="n">s</span><span class="p">.</span><span class="n">Chunk_num</span><span class="p">)</span> <span class="p">{</span>        <span class="c1">//t.申请块
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">Chunk</span> <span class="o">*</span><span class="n">temp</span> <span class="o">=</span> <span class="p">(</span><span class="n">Chunk</span><span class="o">*</span><span class="p">)</span><span class="nf">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">Chunk</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">        <span class="n">t</span><span class="o">-&gt;</span><span class="n">tail</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">t</span><span class="o">-&gt;</span><span class="n">tail</span> <span class="o">=</span> <span class="n">t</span><span class="o">-&gt;</span><span class="n">tail</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">t</span><span class="o">-&gt;</span><span class="n">tail</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">t</span><span class="o">-&gt;</span><span class="n">Chunk_num</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">t_p</span> <span class="o">=</span> <span class="n">t</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">s_p</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">head</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="n">s_p</span> <span class="o">!=</span> <span class="nb">NULL</span> <span class="o">&amp;&amp;</span> <span class="n">t_p</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">CHUNKSIZE</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">,</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">t_p</span><span class="o">-&gt;</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">s_p</span><span class="o">-&gt;</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">s_p</span> <span class="o">=</span> <span class="n">s_p</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">t_p</span> <span class="o">=</span> <span class="n">t_p</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">StrEmpty</span><span class="p">(</span><span class="n">LString</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">head</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">StrCompare</span><span class="p">(</span><span class="n">LString</span> <span class="n">s</span><span class="p">,</span> <span class="n">LString</span> <span class="n">t</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Chunk</span> <span class="o">*</span><span class="n">sp</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">head</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">Chunk</span> <span class="o">*</span><span class="n">tp</span> <span class="o">=</span> <span class="n">t</span><span class="p">.</span><span class="n">head</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">nowl</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="n">sp</span> <span class="o">!=</span> <span class="nb">NULL</span> <span class="o">&amp;&amp;</span> <span class="n">tp</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">sp</span> <span class="o">==</span> <span class="nb">NULL</span> <span class="o">&amp;&amp;</span> <span class="n">tp</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span><span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">CHUNKSIZE</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">sp</span><span class="o">-&gt;</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">tp</span><span class="o">-&gt;</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">nowl</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="p">(</span><span class="n">nowl</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="n">nowl</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                    <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span><span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">sp</span><span class="o">-&gt;</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">tp</span><span class="o">-&gt;</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">sp</span><span class="o">-&gt;</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">tp</span><span class="o">-&gt;</span><span class="n">ch</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">sp</span> <span class="o">=</span> <span class="n">sp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span> <span class="n">tp</span> <span class="o">=</span> <span class="n">tp</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">StrLength</span><span class="p">(</span><span class="n">LString</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">s</span><span class="p">.</span><span class="n">length</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">ClearString</span><span class="p">(</span><span class="n">LString</span> <span class="o">*</span><span class="n">s</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="n">s</span><span class="o">-&gt;</span><span class="n">head</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Chunk</span><span class="o">*</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">s</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">s</span><span class="o">-&gt;</span><span class="n">head</span> <span class="o">=</span> <span class="n">s</span><span class="o">-&gt;</span><span class="n">head</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nf">free</span><span class="p">(</span><span class="n">temp</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span><span class="o">-&gt;</span><span class="n">Chunk_num</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span><span class="o">-&gt;</span><span class="n">length</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span><span class="o">-&gt;</span><span class="n">head</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span><span class="o">-&gt;</span><span class="n">tail</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">Concat</span><span class="p">(</span><span class="n">LString</span> <span class="o">*</span><span class="n">t</span><span class="p">,</span> <span class="n">LString</span> <span class="n">s1</span><span class="p">,</span> <span class="n">LString</span> <span class="n">s2</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//不浪费空间的连接法，直接连接两个字符串的空间地址
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="cm">/*t-&gt;length = s1.length + s2.length;
</span></span></span><span class="line"><span class="cl"><span class="cm">    t-&gt;Chunk_num = s1.Chunk_num + s2.Chunk_num;
</span></span></span><span class="line"><span class="cl"><span class="cm">    t-&gt;head = s1.head;
</span></span></span><span class="line"><span class="cl"><span class="cm">    t-&gt;tail = s1.tail;
</span></span></span><span class="line"><span class="cl"><span class="cm">    t-&gt;tail-&gt;next = s2.head;
</span></span></span><span class="line"><span class="cl"><span class="cm">    t-&gt;tail = s2.tail;*/</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">//重新分配空间
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">t</span><span class="o">-&gt;</span><span class="n">length</span> <span class="o">=</span> <span class="n">s1</span><span class="p">.</span><span class="n">length</span> <span class="o">+</span> <span class="n">s2</span><span class="p">.</span><span class="n">length</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">t</span><span class="o">-&gt;</span><span class="n">Chunk_num</span> <span class="o">=</span> <span class="n">t</span><span class="o">-&gt;</span><span class="n">length</span> <span class="o">/</span> <span class="n">CHUNKSIZE</span> <span class="o">+</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">LString</span> <span class="n">s1temp</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">LString</span> <span class="n">s2temp</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">StrCopy</span><span class="p">(</span><span class="o">&amp;</span><span class="n">s1temp</span><span class="p">,</span> <span class="n">s1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nf">StrCopy</span><span class="p">(</span><span class="o">&amp;</span><span class="n">s2temp</span><span class="p">,</span> <span class="n">s2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">t</span><span class="o">-&gt;</span><span class="n">head</span> <span class="o">=</span> <span class="n">s1temp</span><span class="p">.</span><span class="n">head</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">s1temp</span><span class="p">.</span><span class="n">tail</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">s2temp</span><span class="p">.</span><span class="n">head</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">t</span><span class="o">-&gt;</span><span class="n">tail</span> <span class="o">=</span> <span class="n">s2temp</span><span class="p">.</span><span class="n">tail</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">DestroyString</span><span class="p">(</span><span class="n">LString</span> <span class="o">*</span><span class="n">s</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="n">s</span><span class="o">-&gt;</span><span class="n">head</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Chunk</span><span class="o">*</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">s</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">s</span><span class="o">-&gt;</span><span class="n">head</span> <span class="o">=</span> <span class="n">s</span><span class="o">-&gt;</span><span class="n">head</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="nf">free</span><span class="p">(</span><span class="n">temp</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nf">free</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//需要模式匹配算法，后面介绍
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">void</span> <span class="nf">Index</span><span class="p">()</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">Replace</span><span class="p">()</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//与链表增删同理
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">void</span> <span class="nf">StrInsert</span><span class="p">()</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">StrDelete</span><span class="p">()</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//测试
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">LString</span> <span class="n">s</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">d</span><span class="p">,</span><span class="n">a</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">StrAssign</span><span class="p">(</span><span class="o">&amp;</span><span class="n">s</span><span class="p">,</span> <span class="s">&#34;assfaasfasjkfkhqhnkqwjnfjkhqnjkfbjakbnfjkanfkjqwbjkfndMMMM&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nf">StrAssign</span><span class="p">(</span><span class="o">&amp;</span><span class="n">d</span><span class="p">,</span> <span class="s">&#34;asdfghsaesadsadasdadsafsaffdgdj&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nf">StrCopy</span><span class="p">(</span><span class="o">&amp;</span><span class="n">t</span><span class="p">,</span> <span class="n">s</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//cout &lt;&lt; StrCompare(s, d)&lt;&lt;endl;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Concat</span><span class="p">(</span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">t</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nf">StrPrint</span><span class="p">(</span><span class="n">a</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nf">getchar</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>

<h3 id="串的模式匹配算法">
  串的模式匹配算法
  <a class="heading-link" href="#%e4%b8%b2%e7%9a%84%e6%a8%a1%e5%bc%8f%e5%8c%b9%e9%85%8d%e7%ae%97%e6%b3%95">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h3>
<p>字串的定位运算通常称为串的模式匹配或串匹配。</p>
<p>串的模式匹配设有两个字符串 S 和 T，设 S 为主串，也称为正文串，设 T 为子串，也称为模式。在主串 S 中查找与模式 T 相匹配的子串，如果匹配成功，确定相匹配的子串中的第一个字符在主串 S 中出现的位置，著名的算法为：</p>
<ul>
<li>BF 算法</li>
<li>KMP 算法</li>
</ul>


<h4 id="bf-算法">
  BF 算法
  <a class="heading-link" href="#bf-%e7%ae%97%e6%b3%95">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h4>
<p>模式匹算法配不一定是从主串的第一个位置开始，可以指定主串中查找的起始位置 pos，如果采用字符串顺序存储结构，可以写出不依赖于其他串操作的匹配算法。</p>
<p>最好情况下匹配成功的平均比较次数为：</p>
<p><code>$$ \sum_{i=1}^{n-m+1} p_i(i-1+m) = \frac{1}{n-m+1}\sum_{i=1}^{n-m+1}(i-1+m) = \frac{1}{2}(n+m) $$</code></p>
<p>最坏情况下匹配成功的平均比较次数为：</p>
<p><code>$$ \sum_{i=1}^{n-m+1} p_i(i \times m) = \frac{1}{n-m+1}\sum_{i=1}^{n-m+1}(i \times m) = \frac{1}{2}m \times (n-m+2) $$</code></p>
<p>算法步骤：</p>
<ul>
<li>
<p>分别利用计数指针 i 和 j 指示主串 S 和模式 T 中当前正待比较的字符位置，i 初值为 pos,j 初值为 1.</p>
</li>
<li>
<p>如果两个串均为比较到串尾，即 i 和 j 均分别小于等于 S 和 T 的长度时，则循环执行以下操作</p>
<ul>
<li>S.ch[i]和 T.ch[j]比较，若相等，则 i 与 j 分别指示串中下一个位置，继续比较后续字符</li>
<li>若不等，指针后退重新开始匹配，从主串的下一个字符(i=i-j+2)起再重新和模式的第一个字符 j=1 比较。</li>
</ul>
</li>
<li>
<p>如果 j&gt;T.length，说明模式 T 中的每个字符依次和主串 S 中的一个连续的字符序列相等，则匹配成功，返回和模式 T 中第一个字符相等的字符在主串 S 中的序号。</p>
</li>
</ul>
<p>简易代码示例：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">int</span>  <span class="nf">Cal_length</span><span class="p">(</span><span class="kt">char</span> <span class="n">s</span><span class="p">[])</span> <span class="p">{</span>        <span class="c1">//求数组长度
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">len</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">len</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">len</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">len</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">Index_BF</span><span class="p">(</span><span class="kt">char</span> <span class="n">s</span><span class="p">[],</span> <span class="kt">char</span> <span class="n">t</span><span class="p">[],</span> <span class="kt">int</span> <span class="n">pos</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">pos</span><span class="p">;</span> <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i_length</span> <span class="o">=</span> <span class="nf">Cal_length</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">t_length</span> <span class="o">=</span> <span class="nf">Cal_length</span><span class="p">(</span><span class="n">t</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">i_length</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">t_length</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">t</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="p">{</span> <span class="n">i</span><span class="o">++</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span> <span class="p">{</span> <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&gt;=</span> <span class="n">t_length</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">i</span> <span class="o">-</span> <span class="n">t_length</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">char</span> <span class="n">ch</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&#34;asdfabcgfdsh&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">char</span> <span class="n">ch1</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&#34;abc&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="nf">Index_BF</span><span class="p">(</span><span class="n">ch</span><span class="p">,</span> <span class="n">ch1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nf">getchar</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>

<h4 id="kmp-算法">
  KMP 算法
  <a class="heading-link" href="#kmp-%e7%ae%97%e6%b3%95">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h4>
<ul>
<li>KMP 算法其实是针对 BF 算法的优化，因为 BF 算法依次逐位进行匹配，如果出现匹配失败，主串 i 的值需要回溯到起始的下一个位置，j 的值回溯到 0，重新开始匹配。</li>
<li>KMP 算法需要计算 next 数组，并根据 next 数组的对应值回溯 j，next[i]指的是前 i 位子串的最大相同的前缀后缀的长度，子串计算 next 数组的值实际上是利用子串自己匹配自己，将对应的值存入 next 数组。</li>
<li>KMP 算法只需要利用已匹配的信息，根据 next 数组的值回溯 j 的值，而主串 i 的值不需要回溯，因此提高了匹配的效率。</li>
<li>KMP 算法的核心是当失配后，j 的值应该如何回溯，因此 k=next[k]是 KMP 算法的精髓，网上有大量博客讲述 KMP 算法，因此由于本人理解有限，并不在此详细叙述算法过程，给出下例代码仅供参考。</li>
</ul>
<p><strong>KMP 算法代码如下</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">getNext</span><span class="p">(</span><span class="kt">char</span> <span class="n">t</span><span class="p">[],</span> <span class="kt">int</span> <span class="n">next</span><span class="p">[])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">t_length</span> <span class="o">=</span> <span class="nf">strlen</span><span class="p">(</span><span class="n">t</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">next</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">t_length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;)</span> <span class="p">{</span>        <span class="c1">//最后一位不比
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="n">k</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="o">||</span> <span class="n">t</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="n">t</span><span class="p">[</span><span class="n">k</span><span class="p">])</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="o">++</span><span class="n">k</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">next</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">k</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span>  <span class="n">k</span> <span class="o">=</span> <span class="n">next</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>                <span class="c1">//KMP算法的精髓
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//00012123001120000,00012000001000000
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">KMP</span><span class="p">(</span><span class="kt">char</span> <span class="n">s</span><span class="p">[],</span> <span class="kt">char</span> <span class="n">t</span><span class="p">[],</span> <span class="kt">int</span> <span class="n">pos</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">pos</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i_length</span> <span class="o">=</span> <span class="nf">strlen</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">t_length</span> <span class="o">=</span> <span class="nf">strlen</span><span class="p">(</span><span class="n">t</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//得到next数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span><span class="o">*</span> <span class="n">next</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="p">)</span><span class="nf">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="o">*</span><span class="n">t_length</span><span class="p">);</span>        <span class="c1">//根据子串的长度动态分配
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">getNext</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">next</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">//优化之后主串的i不需要回溯，只需要回溯子串j的位置
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">i_length</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">t_length</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="o">||</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">t</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="p">{</span> <span class="n">i</span><span class="o">++</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span> <span class="p">{</span> <span class="n">j</span> <span class="o">=</span> <span class="n">next</span><span class="p">[</span><span class="n">j</span><span class="p">];</span> <span class="p">}</span>         <span class="c1">//s[i] != t[j]并且j != -1的情况下，根据next的值回溯j
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&gt;=</span> <span class="n">t_length</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">i</span> <span class="o">-</span> <span class="n">j</span><span class="p">;</span> <span class="p">}</span>    <span class="c1">//总长 - 匹配成功的子串长
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">else</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//测试
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">char</span> <span class="n">s</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&#34;dsadsadsafsaf abcababccbaabc gqegqwdsad&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">char</span> <span class="n">t</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&#34;abcababccbaabc&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="nf">KMP</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nf">getchar</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>

<h1 id="数组">
  数组
  <a class="heading-link" href="#%e6%95%b0%e7%bb%84">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h1>


<h2 id="数组类型的定义">
  数组类型的定义
  <a class="heading-link" href="#%e6%95%b0%e7%bb%84%e7%b1%bb%e5%9e%8b%e7%9a%84%e5%ae%9a%e4%b9%89">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h2>
<ul>
<li>数组是由类型相同的数据元素构成的有序集合，每个元素称为数组元素。</li>
<li>每个元素受 n(n≥1)个线性关系的约束</li>
<li>每个元素在 n 个线性关系中的序号 i_1,i_2…称为该元素的下表</li>
<li>数组可以看成线性表的推广，特点是结构中的元素本身可以是具有某种结构的数据，但属于同一数据类型。</li>
<li>二维数组可以看成数据元素是线性表的线性表</li>
<li>数组一旦被定义，它的维数和维界就不再改变，除了结构的初始化和销毁之外，数组只有存取元素和修改元素值的操作</li>
</ul>


<h3 id="抽象数据类型-adt-定义">
  抽象数据类型 ADT 定义
  <a class="heading-link" href="#%e6%8a%bd%e8%b1%a1%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b-adt-%e5%ae%9a%e4%b9%89">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="nf">InitArray</span><span class="p">(</span><span class="o">&amp;</span><span class="n">A</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">boundi</span><span class="p">,...,</span><span class="n">boundn</span><span class="p">)</span>    <span class="c1">//若维数n与各维长度合法，构造相应的数组A
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">DestroyArray</span><span class="p">(</span><span class="o">&amp;</span><span class="n">A</span><span class="p">)</span>                    <span class="c1">//销毁数组A
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">Value</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="o">&amp;</span><span class="n">e</span><span class="p">,</span><span class="n">index1</span><span class="p">,...,</span><span class="n">indexn</span><span class="p">)</span>        <span class="c1">//若各下标不超界，则e赋值为所指定的A的元素值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">Assign</span><span class="p">(</span><span class="o">&amp;</span><span class="n">A</span><span class="p">,</span><span class="n">e</span><span class="p">,</span><span class="n">index1</span><span class="p">,...,</span><span class="n">indexn</span><span class="p">)</span>        <span class="c1">//若下标不超界，则按e的值赋给所指定的A的元素
</span></span></span></code></pre></div>

<h2 id="数组的顺序存储">
  数组的顺序存储
  <a class="heading-link" href="#%e6%95%b0%e7%bb%84%e7%9a%84%e9%a1%ba%e5%ba%8f%e5%ad%98%e5%82%a8">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h2>
<p>假设每个数据元素占 L 个存储单元，则二维数组 A[0..m-1,0..n-1] (即从下标开始一共 m 行 n 列)中任一元素 aijaij 的存储位置可由下式确定</p>
<p><code>$$ LOC(i,j)=LOC(0,0)+(n×i+j)L $$</code></p>
<p>式中，<code>$LOC(i,j)$</code>是<code>$a_{ij}$</code>的存储位置</p>
<p>数组的存储方式分为：</p>
<ul>
<li>以列序为主序</li>
<li>以行序为主序</li>
</ul>


<h2 id="特殊矩阵的压缩处理">
  <strong>特殊矩阵的压缩处理</strong>
  <a class="heading-link" href="#%e7%89%b9%e6%ae%8a%e7%9f%a9%e9%98%b5%e7%9a%84%e5%8e%8b%e7%bc%a9%e5%a4%84%e7%90%86">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h2>


<h3 id="对称矩阵">
  <strong>对称矩阵</strong>
  <a class="heading-link" href="#%e5%af%b9%e7%a7%b0%e7%9f%a9%e9%98%b5">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h3>
<ul>
<li>若 n 阶矩阵 A 中的元素满足<code>$a_{ij} = a_{ji}$</code>则称为 n 阶对称矩阵</li>
<li>对称矩阵可以为每一对对称元分配一个存储空间，则可以将 <code>$2^n$</code>个元压缩到<code>$n(n+1)/2$</code> 个元空间中</li>
<li>对称矩阵与压缩矩阵的对应关系为：</li>
</ul>
<p><code>$$ A_{ij} = b_{((i(i-1)/2)+j-1)}, (i \geq j) $$</code></p>
<p><code>$$ A_{ij} = b_{((j(j-1)/2)+i-1)}, (i &lt; j) $$</code></p>


<h3 id="三角矩阵">
  <strong>三角矩阵</strong>
  <a class="heading-link" href="#%e4%b8%89%e8%a7%92%e7%9f%a9%e9%98%b5">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h3>


<h4 id="n-阶上三角矩阵压缩矩阵与原矩阵的对应关系为">
  <strong>n 阶上三角矩阵，压缩矩阵与原矩阵的对应关系为</strong>
  <a class="heading-link" href="#n-%e9%98%b6%e4%b8%8a%e4%b8%89%e8%a7%92%e7%9f%a9%e9%98%b5%e5%8e%8b%e7%bc%a9%e7%9f%a9%e9%98%b5%e4%b8%8e%e5%8e%9f%e7%9f%a9%e9%98%b5%e7%9a%84%e5%af%b9%e5%ba%94%e5%85%b3%e7%b3%bb%e4%b8%ba">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h4>
<p><code>$$ A_{ij} = b_{((i-1)(2n-i+2)/2)+(j-i)}, (i \leq j) $$</code></p>
<p><code>$$ A_{ij} = b_{(n(n+1)/2)}, (i &gt; j) $$</code></p>


<h4 id="n-阶下三角矩阵压缩矩阵与原矩阵的对应关系为">
  <strong>n 阶下三角矩阵，压缩矩阵与原矩阵的对应关系为</strong>
  <a class="heading-link" href="#n-%e9%98%b6%e4%b8%8b%e4%b8%89%e8%a7%92%e7%9f%a9%e9%98%b5%e5%8e%8b%e7%bc%a9%e7%9f%a9%e9%98%b5%e4%b8%8e%e5%8e%9f%e7%9f%a9%e9%98%b5%e7%9a%84%e5%af%b9%e5%ba%94%e5%85%b3%e7%b3%bb%e4%b8%ba">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h4>
<p><code>$$ A_{ij} = b_{((i(i-1)/2)+j-1)}, (i \geq j) $$</code></p>
<p><code>$$ A_{ij} = b_{(n(n+1)/2)}, (i &lt; j) $$</code></p>
<ul>
<li>三角矩阵以主对角线划分，存储三角矩阵只需要存储矩阵的上三角或下三角中的元素，再加一个存储常数 c 的存储空间即可。</li>
</ul>


<h3 id="对角矩阵">
  <strong>对角矩阵</strong>
  <a class="heading-link" href="#%e5%af%b9%e8%a7%92%e7%9f%a9%e9%98%b5">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h3>
<ul>
<li>对角矩阵所有的非零元都集中在以主对角线为中心的带状区域</li>
<li>除了集中在对角线区域之外，其他元素都为 0</li>
</ul>


<h4 id="对称矩阵压缩代码示例">
  对称矩阵压缩代码示例
  <a class="heading-link" href="#%e5%af%b9%e7%a7%b0%e7%9f%a9%e9%98%b5%e5%8e%8b%e7%bc%a9%e4%bb%a3%e7%a0%81%e7%a4%ba%e4%be%8b">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cm">/* 假设矩阵需要压缩存储
</span></span></span><span class="line"><span class="cl"><span class="cm">2 1 2 3 4 5
</span></span></span><span class="line"><span class="cl"><span class="cm">1 2 8 9 5 6
</span></span></span><span class="line"><span class="cl"><span class="cm">2 8 2 3 7 6
</span></span></span><span class="line"><span class="cl"><span class="cm">3 9 3 2 9 4
</span></span></span><span class="line"><span class="cl"><span class="cm">4 5 7 9 2 1
</span></span></span><span class="line"><span class="cl"><span class="cm">5 6 6 4 1 2
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="cp">#define N 6                            </span><span class="c1">//矩阵行列数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#define N_y N*(N+1)/2                </span><span class="c1">//压缩后的大小
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span><span class="o">*</span> <span class="nf">GetCompreM</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">[][</span><span class="n">N</span><span class="p">])</span> <span class="p">{</span>        <span class="c1">//压缩矩阵
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="o">*</span><span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="p">)</span><span class="nf">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="o">*</span><span class="n">N_y</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">i</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">b</span><span class="p">[</span><span class="n">k</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">b</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">GetValue</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">b</span><span class="p">,</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">)</span> <span class="p">{</span>    <span class="c1">//根据压缩矩阵计算原矩阵的值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;=</span> <span class="n">j</span><span class="p">)</span> <span class="k">return</span> <span class="n">b</span><span class="p">[(</span><span class="n">i</span><span class="o">*</span><span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">j</span><span class="p">)</span> <span class="k">return</span> <span class="n">b</span><span class="p">[(</span><span class="n">j</span><span class="o">*</span><span class="p">(</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//测试
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">a</span><span class="p">[</span><span class="n">N</span><span class="p">][</span><span class="n">N</span><span class="p">]</span> <span class="o">=</span> <span class="p">{{</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">},{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">},{</span><span class="mi">2</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">},{</span><span class="mi">3</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">4</span><span class="p">},{</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">},{</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">}};</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="o">*</span><span class="n">b</span> <span class="o">=</span> <span class="nf">GetCompreM</span><span class="p">(</span><span class="n">a</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="nf">GetValue</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nf">getchar</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>

<h4 id="三角矩阵定义示例">
  三角矩阵定义示例
  <a class="heading-link" href="#%e4%b8%89%e8%a7%92%e7%9f%a9%e9%98%b5%e5%ae%9a%e4%b9%89%e7%a4%ba%e4%be%8b">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#define N 6
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="k">typedef</span> <span class="k">struct</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">b</span><span class="p">[</span><span class="n">N</span><span class="o">*</span><span class="p">(</span><span class="n">N</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">c</span><span class="p">;</span>    
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></div>

<h2 id="稀疏矩阵">
  稀疏矩阵
  <a class="heading-link" href="#%e7%a8%80%e7%96%8f%e7%9f%a9%e9%98%b5">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h2>
<p>稀疏矩阵是指其非零元较零元少，且分布没有一定规律，称之为稀疏矩阵。</p>
<p>稀疏矩阵的一般的压缩存储分为两种方式：</p>
<ul>
<li>三元组存储</li>
<li>十字链表存储</li>
</ul>


<h3 id="三元组压缩存储">
  三元组压缩存储
  <a class="heading-link" href="#%e4%b8%89%e5%85%83%e7%bb%84%e5%8e%8b%e7%bc%a9%e5%ad%98%e5%82%a8">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h3>
<p>由于稀疏矩阵零元较多，如果采取普通的矩阵存储，会浪费大量的存储空间，因此引出三元组存储方法，只需要存储非零元的值即可，因此需要存储非零元的横列下标以及对应的值。</p>
<p>三元组结构定义如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#define MAXSIZE 10
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">row</span><span class="p">,</span><span class="n">col</span><span class="p">;</span>    <span class="c1">//原矩阵的行列号
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">data</span><span class="p">;</span>        <span class="c1">//原矩阵对应的值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span><span class="n">node</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">;</span>        <span class="c1">//原矩阵的行列数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">NodeNum</span><span class="p">;</span>    <span class="c1">//原矩阵非零元个数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">node</span> <span class="n">data</span><span class="p">[</span><span class="n">MAXSIZE</span><span class="p">];</span>    <span class="c1">//存放原矩阵非零元的三元组表
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">};</span>
</span></span></code></pre></div>

<h4 id="三元组存稀疏矩阵代码示例">
  三元组存稀疏矩阵代码示例
  <a class="heading-link" href="#%e4%b8%89%e5%85%83%e7%bb%84%e5%ad%98%e7%a8%80%e7%96%8f%e7%9f%a9%e9%98%b5%e4%bb%a3%e7%a0%81%e7%a4%ba%e4%be%8b">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cm">/*以下稀疏矩阵为例
</span></span></span><span class="line"><span class="cl"><span class="cm">0 0 0 1 0 2
</span></span></span><span class="line"><span class="cl"><span class="cm">0 2 1 0 0 0
</span></span></span><span class="line"><span class="cl"><span class="cm">0 0 0 6 0 0
</span></span></span><span class="line"><span class="cl"><span class="cm">0 1 0 0 0 7
</span></span></span><span class="line"><span class="cl"><span class="cm">0 0 0 0 0 0
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">;</span>    <span class="c1">//原矩阵的行列号
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">data</span><span class="p">;</span>        <span class="c1">//原矩阵对应的值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span><span class="n">node</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">;</span>        <span class="c1">//原矩阵的行列数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">NodeNum</span><span class="p">;</span>    <span class="c1">//原矩阵非零元个数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">node</span> <span class="o">*</span><span class="n">data</span><span class="p">;</span>    <span class="c1">//存放原矩阵非零元的三元组表
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span><span class="n">ThrList</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">CreateThr</span><span class="p">(</span><span class="n">ThrList</span> <span class="o">*</span><span class="n">s</span><span class="p">,</span><span class="kt">int</span> <span class="n">a</span><span class="p">[][</span><span class="mi">6</span><span class="p">])</span> <span class="p">{</span>        <span class="c1">//压缩存储
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">s</span><span class="o">-&gt;</span><span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="n">node</span><span class="o">*</span><span class="p">)</span><span class="nf">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">node</span><span class="p">)</span> <span class="o">*</span> <span class="mi">7</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span><span class="o">-&gt;</span><span class="n">NodeNum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span><span class="o">-&gt;</span><span class="n">i</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span><span class="o">-&gt;</span><span class="n">j</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">6</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">s</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="n">k</span><span class="p">].</span><span class="n">col</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="n">s</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="n">k</span><span class="p">].</span><span class="n">row</span> <span class="o">=</span> <span class="n">j</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="n">s</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="n">k</span><span class="o">++</span><span class="p">].</span><span class="n">data</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">                <span class="n">s</span><span class="o">-&gt;</span><span class="n">NodeNum</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">PrintThr</span><span class="p">(</span><span class="n">ThrList</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>                    <span class="c1">//打印
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">NodeNum</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">data</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">GetValue</span><span class="p">(</span><span class="n">ThrList</span> <span class="n">s</span><span class="p">,</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">)</span> <span class="p">{</span>        <span class="c1">//取值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">NodeNum</span><span class="p">;</span> <span class="n">k</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="n">k</span><span class="p">].</span><span class="n">col</span> <span class="o">==</span> <span class="n">i</span> <span class="o">&amp;&amp;</span> <span class="n">s</span><span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="n">k</span><span class="p">].</span><span class="n">row</span> <span class="o">==</span> <span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">s</span><span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="n">k</span><span class="p">].</span><span class="n">data</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//测试
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">a</span><span class="p">[</span><span class="mi">5</span><span class="p">][</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="p">{</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span> <span class="p">},</span> <span class="p">{</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span> <span class="p">{</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span> <span class="p">{</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span> <span class="p">},</span> <span class="p">{</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="n">ThrList</span> <span class="n">s</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">CreateThr</span><span class="p">(</span><span class="o">&amp;</span><span class="n">s</span><span class="p">,</span><span class="n">a</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//PrintThr(s);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="nf">GetValue</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nf">getchar</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>

<h3 id="十字链表">
  十字链表
  <a class="heading-link" href="#%e5%8d%81%e5%ad%97%e9%93%be%e8%a1%a8">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h3>
<p>十字链表也可以对稀疏矩阵进行压缩存储，对于压缩存储稀疏矩阵，无论是使用三元组顺序表，还是使用行逻辑链接的顺序表，归根结底是使用数组存储稀疏矩阵。</p>
<p>介于数组 “不利于插入和删除数据” 的特点，以上两种压缩存储方式都不适合解决类似 “向矩阵中添加或删除非 0 元素” 的问题。</p>
<p>在图结构中，有向图可以用两个邻接矩阵进行表示，而有向图的存储需要使用对应矩阵的邻接表与逆邻接表，为了减少存储空间，使用十字链表结合了邻接表与逆邻接表。</p>
<p>本文暂不叙述十字链表的存储方式，会在学习图之后进行补充。</p>


<h1 id="广义表">
  广义表
  <a class="heading-link" href="#%e5%b9%bf%e4%b9%89%e8%a1%a8">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h1>


<h2 id="广义表的定义">
  广义表的定义
  <a class="heading-link" href="#%e5%b9%bf%e4%b9%89%e8%a1%a8%e7%9a%84%e5%ae%9a%e4%b9%89">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h2>
<p>广义表是线性表的推广，也称为列表，广义表一般记作</p>
<p><code>$$ LS=(a_1,a_2,...,a_n) $$</code></p>
<p>LS 是广义表的名称，n 是其长度，在广义表的定义中，a_i 可以是单个元素也可以是广义表，分别称为广义表 LS 的原子或子表，一般小写字母表示原子，大写字母表示广义表，广义表的定义是一个递归的定义，下面为广义表举例</p>
<ul>
<li>A=(),A 为空表</li>
<li>B=(e),B 只有一个原子 e</li>
<li>C=(a,(b,c,d)),C 有两个元素，一个是原子 a，另一个是子表(b,c,d)</li>
<li>D=(A,B,C),D 表含有三个子表</li>
<li>E=(a,E),E 为一个递归表，每一层都有一个原子 e 与表 E</li>
</ul>


<h2 id="广义表的重要结论">
  广义表的重要结论
  <a class="heading-link" href="#%e5%b9%bf%e4%b9%89%e8%a1%a8%e7%9a%84%e9%87%8d%e8%a6%81%e7%bb%93%e8%ae%ba">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h2>
<ol>
<li>广义表的元素可以是广义表，即广义表可以多层次的结构</li>
<li>广义表的深度定义为所含括弧的重数，其中原子的深度为 0，空表的深度为 1</li>
<li>广义表的长度定义为最外层包含元素个数</li>
<li>广义表可以为其他广义表共享，即称为其他广义表的子表，或者包含其他广义表</li>
<li>任何一个非空广义表均可分解为表头和表尾两部分</li>
<li>广义表可以是递归的表</li>
</ol>


<h2 id="广义表的运算及定义">
  广义表的运算及定义
  <a class="heading-link" href="#%e5%b9%bf%e4%b9%89%e8%a1%a8%e7%9a%84%e8%bf%90%e7%ae%97%e5%8f%8a%e5%ae%9a%e4%b9%89">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="nf">GetLength</span><span class="p">(</span><span class="o">&amp;</span><span class="n">g</span><span class="p">)</span> <span class="c1">//求广义表的长度
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">GetDepth</span><span class="p">(</span><span class="o">&amp;</span><span class="n">g</span><span class="p">)</span>  <span class="c1">//求广义表的深度
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">PrintGL</span><span class="p">(</span><span class="o">&amp;</span><span class="n">g</span><span class="p">)</span>      <span class="c1">//打印广义表
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">CreateGL</span><span class="p">()</span>      <span class="c1">//建立广义表
</span></span></span><span class="line"><span class="cl"><span class="c1">//头尾链表存储结构
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span> <span class="n">ATOM</span><span class="p">,</span> <span class="n">LIST</span> <span class="p">}</span> <span class="n">ElemTag</span><span class="p">;</span> <span class="cm">/* ATOM=0，表示原子；LIST=1，表示子表*/</span>
</span></span><span class="line"><span class="cl"><span class="k">typedef</span> <span class="k">struct</span> <span class="n">GLNode</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">ElemTag</span> <span class="n">tag</span><span class="p">;</span> <span class="cm">/*标志位tag用来区别原子结点和表结点*/</span>
</span></span><span class="line"><span class="cl">    <span class="k">union</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">AtomType</span> <span class="n">atom</span><span class="p">;</span> <span class="cm">/*原子结点的值域atom*/</span>
</span></span><span class="line"><span class="cl">        <span class="k">struct</span> <span class="p">{</span> <span class="k">struct</span> <span class="n">GLNode</span> <span class="o">*</span> <span class="n">hp</span><span class="p">,</span> <span class="o">*</span><span class="n">tp</span><span class="p">;</span> <span class="p">}</span> <span class="n">htp</span><span class="p">;</span> <span class="cm">/*表结点的指针域htp， 包括表头指针域hp和表尾指针域tp*/</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="n">atom_htp</span><span class="p">;</span> <span class="cm">/* atom_htp 是原子结点的值域atom和表结点的指针域htp的联合体域*/</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="o">*</span><span class="n">GList</span><span class="err">；</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//扩展性链表存储结构
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span> <span class="n">ATOM</span><span class="p">,</span> <span class="n">LIST</span> <span class="p">}</span> <span class="n">ElemTag</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">typedef</span> <span class="k">struct</span> <span class="n">GLNode</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">ELemTag</span> <span class="n">tag</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">union</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">AtomType</span> <span class="n">atom</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">struct</span> <span class="n">GLNode</span> <span class="o">*</span><span class="n">hp</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">struct</span> <span class="n">GLNode</span> <span class="o">*</span><span class="n">ht</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="o">*</span><span class="n">GList</span><span class="p">;</span>
</span></span></code></pre></div>

<h2 id="广义表的存储结构">
  广义表的存储结构
  <a class="heading-link" href="#%e5%b9%bf%e4%b9%89%e8%a1%a8%e7%9a%84%e5%ad%98%e5%82%a8%e7%bb%93%e6%9e%84">
    <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
    <span class="sr-only">@</span>
  </a>
</h2>
<p>广义表的数据元素有不同的结构，因此一般使用链式存储结构，常用的链式存储结构有两种：</p>
<ul>
<li>
<p>头尾链表的存储结构</p>
<ul>
<li>确定的表头和表尾可唯一确定广义表</li>
<li>表结点由三个域组成：标志域，表头指针域，表尾指针域</li>
<li>原子结点分为两个域：标志域和值域</li>
<li>标志域用于判断元素是原子还是子表</li>
</ul>
</li>
<li>
<p>扩展性链表的存储结构</p>
<ul>
<li>无论原子结点还是表表结点均由三个域组成</li>
</ul>
</li>
</ul>

    </div>


    <footer>
      






<section class="see-also">
  
    
    
    
      <h3 id="参见-数据结构相关文章">
        参见 数据结构相关文章
        <a class="heading-link" href="#%e5%8f%82%e8%a7%81-%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84%e7%9b%b8%e5%85%b3%e6%96%87%e7%ab%a0">
          <i class="fa-solid fa-link" aria-hidden="true" title="@"></i>
          <span class="sr-only">@</span>
        </a>
      </h3>
      <nav>
        <ul>
        
        
          
            <li>
              <a href="/posts/bzyiduql6opzodxxglncvrm0nvb/">课程实训</a>
            </li>
          
        
          
            <li>
              <a href="/posts/pn4kd6n1eos5xyxutuaciqhfnjb/">排序</a>
            </li>
          
        
          
            <li>
              <a href="/posts/qtnbdqineorsxpx02uucpayvnxh/">线性表和树表的查找</a>
            </li>
          
        
          
            <li>
              <a href="/posts/rfybd7gssoktinxwskock7atn8c/">散列表的查找</a>
            </li>
          
        
          
            <li>
              <a href="/posts/yewvdflgtouwdrxf7wscztngnjc/">图的应用</a>
            </li>
          
        
          
            <li>
              <a href="/posts/lhqcd8fsiof6ckxbpvncx0vtnlg/">图的遍历</a>
            </li>
          
        
        </ul>
      </nav>
    
  
</section>


      <div id="tcomment"></div>
    </footer>
  </article>

</section>





  <script src="/js/twiko.all.min.js"></script>
  <script>
    window.addEventListener('load', () => {
      twikoo.init({
        envId: 'https://twikoo-inaho.netlify.app/.netlify/functions/twikoo',
        el: '#tcomment'
      });
    });
  </script>


    </div>

    <footer class="footer">
  <section class="container">
    
    ©
    
      2019 -
    
    2025

    
     inaho 
    ·
    
    

    
    技术支持 <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
    
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  

  

  

  

  
</body>
</html>
